{"version":3,"sources":["components/layout.js","utils/state.js","components/Error.js","components/Login/Login.js","components/Login/SignUp.js","components/Login/Forgot.js","components/Home.js","App.js","index.js"],"names":["Layout","children","data","Helmet","title","meta","name","content","lang","style","margin","maxWidth","padding","paddingTop","loggedInUserData","atom","key","default","sub","email_verified","phone_number_verified","email","username","translated","UserNotFoundException","AuthError","CodeMismatchException","NotAuthorizedException","Error","props","Object","entries","map","val","className","message","styles","Input","height","width","formContainer","display","flexDirection","button","backgroundColor","cursor","textAlign","marginBottom","buttonText","color","Login","useRecoilState","user","setUser","useState","setUsername","password","setPassword","error","setError","login","a","Auth","signIn","currentAuthenticatedUser","userInfo","attributes","localStorage","setItem","JSON","stringify","console","log","x","errorMessage","type","onChange","event","target","value","placeholder","InputCompact","buttonCompact","onClick","SignUp","state","authCode","stage","handleUpdate","setState","signUp","confirmSignUp","alert","this","React","Component","validation","confirmPassword","forgotPassword","submitCode","changePassword","forgotPasswordSubmit","role","tabIndex","onKeyDown","href","Home","Amplify","configure","aws_project_region","aws_cognito_identity_pool_id","aws_cognito_region","aws_user_pools_id","aws_user_pools_web_client_id","oauth","App","selected","setSelected","user1","useRecoilValue","userStorage","getItem","parse","e","selectedKeys","mode","Item","to","signOut","then","path","Forgot","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bc119815.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Helmet from \"react-helmet\";\nimport \"antd/dist/antd.css\"; // or 'antd/dist/antd.less'\nimport \"../css/main.css\";\n\nconst Layout = ({ children, data }) => (\n  <>\n    <Helmet\n      title={\"title\"}\n      meta={[\n        { name: \"description\", content: \"Sample\" },\n        { name: \"keywords\", content: \"sample, something\" },\n      ]}\n    >\n      <html lang=\"en\" />\n    </Helmet>\n\n    <div\n      style={{\n        margin: \"0 auto\",\n        maxWidth: 960,\n        padding: \"0px 1.0875rem 1.45rem\",\n        paddingTop: 0,\n      }}\n    >\n      {children}\n    </div>\n  </>\n);\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Layout;\n","import { atom } from \"recoil\";\n\nexport const loggedInUserData = atom({\n  key: \"loggedInUser\",\n  default: {\n    sub: null,\n    email_verified: null,\n    phone_number_verified: null,\n    email: null,\n    username: null,\n  },\n});\n","import React from \"react\";\nconst translated = {\n  UserNotFoundException: \"Потребителя не съществува\",\n  AuthError: \"Потребител или парола не могат да бъдат празни\",\n  CodeMismatchException: \"Невалиден код , моля опитайте отново\",\n  NotAuthorizedException: \"Потребител или парола невалидни\",\n};\n\nconst Error = (props) => (\n  <div>\n    {Object.entries(props).map(([err, val]) => (\n      <div className=\"err\" key={val.name}>\n        {translated[val.name] ? translated[val.name] : val.message} {val.name}\n      </div>\n    ))}\n  </div>\n);\n\nexport default Error;\n","import React, { useState } from 'react';\n\nimport { Auth } from 'aws-amplify';\nimport { useRecoilState } from 'recoil';\nimport { Input } from 'antd';\nimport { loggedInUserData } from '../../utils/state';\nimport Error from '../Error';\n\n//\n\nconst Login = (props) => {\n  const [user, setUser] = useRecoilState(loggedInUserData);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(null);\n\n  const login = async () => {\n    try {\n      await Auth.signIn(username, password);\n      const user = await Auth.currentAuthenticatedUser();\n      const userInfo = {\n        ...user.attributes,\n        username: user.username,\n      };\n      setUser(userInfo);\n\n      localStorage.setItem('user', JSON.stringify(userInfo));\n    } catch (err) {\n      // this.setState({ error: err });\n      console.log('error...: ', err);\n      setError(err);\n    }\n  };\n  return (\n    <>\n      {user.x && <Error errorMessage={error} />}\n      {error && <Error errorMessage={error} />}\n      {props.type === 'compact' && (\n        <>\n          <Input\n            onChange={(event) => setUsername(event.target.value)}\n            placeholder=\"Потребител\"\n            name=\"username\"\n            value={username}\n            style={styles.InputCompact}\n          />\n          <Input\n            onChange={(event) => setPassword(event.target.value)}\n            placeholder=\"Парола\"\n            name=\"password\"\n            value={password}\n            type=\"password\"\n            style={styles.InputCompact}\n          />\n          <div style={styles.buttonCompact} onClick={login}>\n            <span style={styles.buttonCompact}>Вход</span>\n          </div>\n        </>\n      )}\n      {props.type === 'full' && (\n        <>\n          <Input\n            onChange={(event) => setUsername(event.target.value)}\n            placeholder=\"Потребител\"\n            name=\"username\"\n            value={username}\n            style={styles.Input}\n          />\n          <Input\n            onChange={(event) => setPassword(event.target.value)}\n            placeholder=\"Парола\"\n            name=\"password\"\n            value={password}\n            type=\"password\"\n            style={styles.Input}\n          />\n          <div style={styles.button} onClick={login}>\n            <span style={styles.buttonText}>Вход</span>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nconst styles = {\n  Input: {\n    height: 40,\n    margin: '10px 0px',\n    padding: 7,\n    width: '100%',\n  },\n  formContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  button: {\n    backgroundColor: 'rebeccapurple',\n    padding: '15px 7px',\n    cursor: 'pointer',\n    textAlign: 'center',\n    marginBottom: 10,\n  },\n  buttonText: {\n    color: 'white',\n  },\n};\n\nexport default Login;\n","import React from \"react\";\n\nimport Error from \"../Error\";\nimport { Auth } from \"aws-amplify\";\nimport { Input } from \"antd\";\n \n\nclass SignUp extends React.Component {\n   state = {\n      username: ``,\n      password: ``,\n      email: '',\n      authCode: '',\n      stage: 0,\n      error: '',\n   }\n\n   handleUpdate = (event) => {\n      this.setState({\n         [event.target.name]: event.target.value,\n      })\n   }\n\n   signUp = async () => {\n      const { username, password, email } = this.state\n      try {\n         await Auth.signUp({\n            username,\n            password,\n            attributes: { email },\n         })\n         this.setState({ stage: 1 })\n      } catch (err) {\n         this.setState({ error: err })\n         console.log('error signing up...', err)\n      }\n   }\n\n   confirmSignUp = async () => {\n      const { username, authCode } = this.state\n      try {\n         await Auth.confirmSignUp(username, authCode)\n         alert('Successfully signed up!')\n         //navigate(\"/app/login\");\n      } catch (err) {\n         this.setState({ error: err })\n         console.log('error confirming signing up...', err)\n      }\n   }\n\n   render() {\n      return (\n         <div>\n            <h1>Регистрация</h1>\n            {this.state.stage === 0 && (\n               <div style={styles.formContainer}>\n                  {this.state.error && (\n                     <Error errorMessage={this.state.error} />\n                  )}\n                  <Input\n                     onChange={this.handleUpdate}\n                     placeholder=\"Потребител\"\n                     name=\"username\"\n                     value={this.state.username}\n                     style={styles.Input}\n                  />\n                  <Input\n                     onChange={this.handleUpdate}\n                     placeholder=\"Парола\"\n                     name=\"password\"\n                     value={this.state.password}\n                     type=\"password\"\n                     style={styles.Input}\n                  />\n                  <Input\n                     onChange={this.handleUpdate}\n                     placeholder=\"Email\"\n                     name=\"email\"\n                     value={this.state.email}\n                     style={styles.Input}\n                  />\n\n                  <div style={styles.button} onClick={this.signUp}>\n                     <span style={styles.buttonText}>Sign Up</span>\n                  </div>\n               </div>\n            )}\n            {this.state.stage === 1 && (\n               <div style={styles.formContainer}>\n                  {this.state.error && (\n                     <Error errorMessage={this.state.error} />\n                  )}\n                  <Input\n                     onChange={this.handleUpdate}\n                     placeholder=\"Authorization Code\"\n                     name=\"authCode\"\n                     value={this.state.authCode}\n                     style={styles.Input}\n                  />\n                  <div style={styles.button} onClick={this.confirmSignUp}>\n                     <span style={styles.buttonText}>Confirm Sign Up</span>\n                  </div>\n               </div>\n            )}\n         </div>\n      )\n   }\n}\n\nconst styles = {\n  Input: {\n    height: 40,\n    margin: \"10px 0px\",\n    padding: 7,\n  },\n  formContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  button: {\n    backgroundColor: \"rebeccapurple\",\n    padding: \"15px 7px\",\n    cursor: \"pointer\",\n    textAlign: \"center\",\n    marginBottom: 10,\n  },\n  buttonText: {\n    color: \"white\",\n  },\n};\n\nexport default SignUp;\n","import React from \"react\";\n\nimport { Auth } from \"aws-amplify\";\nimport Error from \"../Error\";\nimport { Input } from \"antd\";\nclass Login extends React.Component {\n  state = {\n    username: \"\",\n    error: \"\",\n    validation: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    stage: 0,\n  };\n\n  login = async () => {\n    try {\n      const x = await Auth.forgotPassword(this.state.username);\n      console.log(x);\n      this.setState({ stage: 1 });\n    } catch (err) {\n      this.setState({ error: err });\n      console.log(\"error...: \", err);\n    }\n  };\n  submitCode = () => {\n    this.setState({ stage: 2 });\n  };\n  changePassword = async () => {\n    try {\n      if (this.state.password === this.state.confirmPassword) {\n        await Auth.forgotPasswordSubmit(\n          this.state.username,\n          this.state.validation,\n          this.state.password\n        );\n        //navigate(\"/app/login\");\n      } else {\n        this.setState({ error: { message: \"Passwords don't Match\" } });\n      }\n    } catch (err) {\n      this.setState({ error: err });\n      console.log(\"error...: \", err);\n    }\n  };\n  handleUpdate = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>Забвавена парола</h1>\n        {this.state.error && <Error errorMessage={this.state.error} />}\n\n        {this.state.stage === 0 && (\n          <div style={styles.formContainer}>\n            <Input\n              onChange={this.handleUpdate}\n              placeholder=\"Потребител\"\n              name=\"username\"\n              value={this.state.username}\n              style={styles.Input}\n            />\n\n            <div\n              role=\"button\"\n              tabIndex={0}\n              style={styles.button}\n              onClick={this.login}\n              onKeyDown={this.login}\n            >\n              <span style={styles.buttonText}>Нататък</span>\n            </div>\n          </div>\n        )}\n\n        {this.state.stage === 1 && (\n          <div>\n            <div>Провери имейла си за потвърждаващ код</div>\n            <Input\n              onChange={this.handleUpdate}\n              placeholder=\"потвърждаващ код\"\n              name=\"validation\"\n              value={this.state.validation}\n              style={styles.Input}\n            />\n            <div\n              role=\"button\"\n              tabIndex={0}\n              style={styles.button}\n              onClick={this.submitCode}\n              onKeyDown={this.submitCode}\n            >\n              <span style={styles.buttonText}>ОК</span>\n            </div>\n          </div>\n        )}\n\n        {\n          // password reset\n          this.state.stage === 2 && (\n            <div>\n              <Input\n                type=\"password\"\n                onChange={this.handleUpdate}\n                placeholder=\"new password\"\n                name=\"password\"\n                value={this.state.password}\n                style={styles.Input}\n              />\n              <br />\n              <Input\n                type=\"password\"\n                onChange={this.handleUpdate}\n                placeholder=\"confirm password\"\n                name=\"confirmPassword\"\n                value={this.state.confirmPassword}\n                style={styles.Input}\n              />\n\n              <a\n                role=\"button\"\n                tabIndex={0}\n                href=\"/\"\n                style={styles.button}\n                onClick={this.changePassword}\n                onKeyDown={this.changePassword}\n              >\n                <span style={styles.buttonText}>Смени</span>\n              </a>\n            </div>\n          )\n        }\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  Input: {\n    height: 40,\n    margin: \"10px 0px\",\n    padding: 7,\n    width: \"100%\",\n  },\n  formContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  button: {\n    backgroundColor: \"rebeccapurple\",\n    padding: \"15px 7px\",\n    cursor: \"pointer\",\n    textAlign: \"center\",\n    marginBottom: 10,\n  },\n  buttonText: {\n    color: \"white\",\n  },\n};\n\nexport default Login;\n","import React from 'react';\n\nconst Home = ({ user }) => (\n  <div>\n    <h1>Начало</h1>\n\n    {JSON.stringify(user)}\n  </div>\n);\n\nexport default Home;\n","import React, { useState } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect,\n} from 'react-router-dom';\nimport { Menu } from 'antd';\nimport { useRecoilValue } from 'recoil';\nimport { Amplify, Auth } from 'aws-amplify';\nimport Layout from './components/layout';\nimport Login from './components/Login/Login';\nimport SignUp from './components/Login/SignUp';\nimport Forgot from './components/Login/Forgot';\nimport Home from './components/Home';\nimport { loggedInUserData } from './utils/state';\n\nAmplify.configure({\n  aws_project_region: 'eu-west-1',\n  aws_cognito_identity_pool_id:\n      'eu-west-1:06863165-5b56-4598-8e87-cc9ae2895f39',\n  aws_cognito_region: 'eu-west-1',\n  aws_user_pools_id: 'eu-west-1_sk5LfmU4g',\n  aws_user_pools_web_client_id: '6d5of62ku9g4pcl2jpp0rcng67',\n  oauth: {},\n});\n\nconst App = () => {\n  const [selected, setSelected] = useState('home');\n  const user1 = useRecoilValue(loggedInUserData);\n  const userStorage = localStorage.getItem('user')\n    ? JSON.parse(localStorage.getItem('user'))\n    : { sub: null };\n  const user = user1.sub ? user1 : userStorage;\n\n  const logout = () => {\n    localStorage.setItem('user', JSON.stringify({ sub: null }));\n    // window.location.reload();\n  };\n  const handleClick = (e) => {\n    setSelected(e.key);\n  };\n  return (\n    <Router>\n      <Menu onClick={handleClick} selectedKeys={[selected]} mode=\"horizontal\">\n        <Menu.Item key=\"home\">\n          <Link to=\"/\">Начало</Link>\n        </Menu.Item>\n        {user.sub === null ? (\n          <>\n            <Menu.Item key=\"login\">\n              <Link to=\"/app/login\">Вход</Link>\n            </Menu.Item>\n            <Menu.Item key=\"signup\">\n              <Link to=\"/app/signup\">Регистрация</Link>\n            </Menu.Item>\n            <Menu.Item key=\"forgot\">\n              <Link to=\"/app/forgot\">Забравена парола</Link>\n            </Menu.Item>\n          </>\n        ) : (\n          <>\n            <Menu.Item key=\"logout\">\n              <a href=\"/\" onClick={() => Auth.signOut().then(logout())}>\n                Изход\n              </a>\n            </Menu.Item>\n          </>\n        )}\n      </Menu>\n\n      <Layout>\n        <Switch>\n          <Route path=\"/app/login\">\n            {user.sub === null ? (\n              <>\n                <h1>Вход</h1>\n                <Login type=\"full\" />\n              </>\n            ) : (\n              <Redirect to=\"/\" />\n            )}\n          </Route>\n          <Route path=\"/app/forgot\">\n            <Forgot />\n          </Route>\n          <Route path=\"/app/signup\">\n            <SignUp />\n          </Route>\n          <Route path=\"/\">\n            <Home user={user} />\n          </Route>\n        </Switch>\n      </Layout>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { RecoilRoot } from 'recoil';\nimport App from './App';\n\nReactDOM.render(\n  <RecoilRoot>\n    <App />\n  </RecoilRoot>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}