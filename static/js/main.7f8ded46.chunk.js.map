{"version":3,"sources":["components/layout.js","components/Error.js","utils/state.js","components/Login/Login.js","components/Login/SignUp.js","components/Login/Forgot.js","App.js","index.js"],"names":["Layout","children","data","Helmet","title","meta","name","content","lang","style","margin","maxWidth","padding","paddingTop","translated","UserNotFoundException","AuthError","CodeMismatchException","Error","props","Object","entries","map","val","className","key","message","loggedInUserData","atom","default","sub","email_verified","phone_number_verified","email","username","styles","Input","height","width","formContainer","display","flexDirection","button","backgroundColor","cursor","textAlign","marginBottom","buttonText","color","Login","useRecoilState","user","setUser","useState","setUsername","password","setPassword","error","setError","login","a","Auth","signIn","currentAuthenticatedUser","userInfo","attributes","localStorage","setItem","JSON","stringify","console","log","x","errorMessage","type","onChange","event","target","value","placeholder","InputCompact","buttonCompact","onClick","initialState","authCode","stage","SignUp","state","handleUpdate","setState","signUp","confirmSignUp","alert","this","React","Component","validation","confirmPassword","forgotPassword","submitCode","changePassword","forgotPasswordSubmit","role","tabIndex","onKeyDown","Amplify","configure","aws_project_region","aws_cognito_identity_pool_id","aws_cognito_region","aws_user_pools_id","aws_user_pools_web_client_id","oauth","Home","App","selected","setSelected","user1","useRecoilValue","userStorage","getItem","parse","e","selectedKeys","mode","Item","to","href","signOut","then","catch","err","path","Forgot","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7f8ded46.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Helmet from \"react-helmet\";\nimport \"antd/dist/antd.css\"; // or 'antd/dist/antd.less'\nimport \"../css/main.css\";\n\nconst Layout = ({ children, data }) => (\n  <>\n    <Helmet\n      title={\"title\"}\n      meta={[\n        { name: \"description\", content: \"Sample\" },\n        { name: \"keywords\", content: \"sample, something\" },\n      ]}\n    >\n      <html lang=\"en\" />\n    </Helmet>\n\n    <div\n      style={{\n        margin: \"0 auto\",\n        maxWidth: 960,\n        padding: \"0px 1.0875rem 1.45rem\",\n        paddingTop: 0,\n      }}\n    >\n      {children}\n    </div>\n  </>\n);\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Layout;\n","import React from \"react\";\nconst translated = {\n  UserNotFoundException: \"Потребителя не съществува\",\n  AuthError: \"Потребител или парола не могат да бъдат празни\",\n  CodeMismatchException: \"Невалиден код , моля опитайте отново\",\n};\nconst Error = (props) => (\n  <div>\n    {Object.entries(props).map(([err, val]) => (\n      <div className=\"err\" key={val.name}>\n        {translated[val.name] ? translated[val.name] : val.message} {val.name}\n      </div>\n    ))}\n  </div>\n);\n\nexport default Error;\n","import { atom } from \"recoil\";\n\nexport const loggedInUserData = atom({\n  key: \"loggedInUser\",\n  default: {\n    sub: null,\n    email_verified: null,\n    phone_number_verified: null,\n    email: null,\n    username: null,\n  },\n});\n","import React, { useState } from \"react\";\n\nimport Error from \"../Error\";\nimport { Auth } from \"aws-amplify\";\nimport { useRecoilState } from \"recoil\";\nimport { loggedInUserData } from \"../../utils/state\";\nimport { Input } from \"antd\";\n\n//\n\nconst Login = (props) => {\n  const [user, setUser] = useRecoilState(loggedInUserData);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(null);\n\n  const login = async () => {\n    try {\n      await Auth.signIn(username, password);\n      const user = await Auth.currentAuthenticatedUser();\n      const userInfo = {\n        ...user.attributes,\n        username: user.username,\n      };\n      setUser(userInfo);\n\n      localStorage.setItem(\"user\", JSON.stringify(userInfo));\n    } catch (err) {\n      //this.setState({ error: err });\n      console.log(\"error...: \", err);\n      setError(err);\n    }\n  };\n  return (\n    <>\n      {user.x && <Error errorMessage={error} />}\n      {error && <Error errorMessage={error} />}\n      {props.type === \"compact\" && (\n        <>\n          <Input\n            onChange={(event) => setUsername(event.target.value)}\n            placeholder=\"Потребител\"\n            name=\"username\"\n            value={username}\n            style={styles.InputCompact}\n          />\n          <Input\n            onChange={(event) => setPassword(event.target.value)}\n            placeholder=\"Парола\"\n            name=\"password\"\n            value={password}\n            type=\"password\"\n            style={styles.InputCompact}\n          />\n          <div style={styles.buttonCompact} onClick={login}>\n            <span style={styles.buttonCompact}>Вход</span>\n          </div>\n        </>\n      )}\n      {props.type === \"full\" && (\n        <>\n          <Input\n            onChange={(event) => setUsername(event.target.value)}\n            placeholder=\"Потребител\"\n            name=\"username\"\n            value={username}\n            style={styles.Input}\n          />\n          <Input\n            onChange={(event) => setPassword(event.target.value)}\n            placeholder=\"Парола\"\n            name=\"password\"\n            value={password}\n            type=\"password\"\n            style={styles.Input}\n          />\n          <div style={styles.button} onClick={login}>\n            <span style={styles.buttonText}>Вход</span>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nconst styles = {\n  Input: {\n    height: 40,\n    margin: \"10px 0px\",\n    padding: 7,\n    width: \"100%\",\n  },\n  formContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  button: {\n    backgroundColor: \"rebeccapurple\",\n    padding: \"15px 7px\",\n    cursor: \"pointer\",\n    textAlign: \"center\",\n    marginBottom: 10,\n  },\n  buttonText: {\n    color: \"white\",\n  },\n};\n\nexport default Login;\n","import React from \"react\";\n\nimport Error from \"../Error\";\nimport { Auth } from \"aws-amplify\";\nimport { Input } from \"antd\";\nconst initialState = {\n  username: ``,\n  password: ``,\n  email: \"\",\n  authCode: \"\",\n  stage: 0,\n  error: \"\",\n};\n\nclass SignUp extends React.Component {\n  state = initialState;\n\n  handleUpdate = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  signUp = async () => {\n    const { username, password, email } = this.state;\n    try {\n      await Auth.signUp({\n        username,\n        password,\n        attributes: { email },\n      });\n      this.setState({ stage: 1 });\n    } catch (err) {\n      this.setState({ error: err });\n      console.log(\"error signing up...\", err);\n    }\n  };\n\n  confirmSignUp = async () => {\n    const { username, authCode } = this.state;\n    try {\n      await Auth.confirmSignUp(username, authCode);\n      alert(\"Successfully signed up!\");\n      //navigate(\"/app/login\");\n    } catch (err) {\n      this.setState({ error: err });\n      console.log(\"error confirming signing up...\", err);\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>Sign Up</h1>\n        {this.state.stage === 0 && (\n          <div style={styles.formContainer}>\n            {this.state.error && <Error errorMessage={this.state.error} />}\n            <Input\n              onChange={this.handleUpdate}\n              placeholder=\"Username\"\n              name=\"username\"\n              value={this.state.username}\n              style={styles.Input}\n            />\n            <Input\n              onChange={this.handleUpdate}\n              placeholder=\"Password\"\n              name=\"password\"\n              value={this.state.password}\n              type=\"password\"\n              style={styles.Input}\n            />\n            <Input\n              onChange={this.handleUpdate}\n              placeholder=\"Email\"\n              name=\"email\"\n              value={this.state.email}\n              style={styles.Input}\n            />\n\n            <div style={styles.button} onClick={this.signUp}>\n              <span style={styles.buttonText}>Sign Up</span>\n            </div>\n          </div>\n        )}\n        {this.state.stage === 1 && (\n          <div style={styles.formContainer}>\n            {this.state.error && <Error errorMessage={this.state.error} />}\n            <Input\n              onChange={this.handleUpdate}\n              placeholder=\"Authorization Code\"\n              name=\"authCode\"\n              value={this.state.authCode}\n              style={styles.Input}\n            />\n            <div style={styles.button} onClick={this.confirmSignUp}>\n              <span style={styles.buttonText}>Confirm Sign Up</span>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  Input: {\n    height: 40,\n    margin: \"10px 0px\",\n    padding: 7,\n  },\n  formContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  button: {\n    backgroundColor: \"rebeccapurple\",\n    padding: \"15px 7px\",\n    cursor: \"pointer\",\n    textAlign: \"center\",\n    marginBottom: 10,\n  },\n  buttonText: {\n    color: \"white\",\n  },\n};\n\nexport default SignUp;\n","import React from \"react\";\n\nimport { Auth } from \"aws-amplify\";\nimport Error from \"../Error\";\nimport { Input } from \"antd\";\nclass Login extends React.Component {\n  state = {\n    username: \"\",\n    error: \"\",\n    validation: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    stage: 0,\n  };\n\n  login = async () => {\n    try {\n      const x = await Auth.forgotPassword(this.state.username);\n      console.log(x);\n      this.setState({ stage: 1 });\n    } catch (err) {\n      this.setState({ error: err });\n      console.log(\"error...: \", err);\n    }\n  };\n  submitCode = () => {\n    this.setState({ stage: 2 });\n  };\n  changePassword = async () => {\n    try {\n      if (this.state.password === this.state.confirmPassword) {\n        await Auth.forgotPasswordSubmit(\n          this.state.username,\n          this.state.validation,\n          this.state.password\n        );\n        //navigate(\"/app/login\");\n      } else {\n        this.setState({ error: { message: \"Passwords don't Match\" } });\n      }\n    } catch (err) {\n      this.setState({ error: err });\n      console.log(\"error...: \", err);\n    }\n  };\n  handleUpdate = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>Forgot Password</h1>\n        {this.state.error && <Error errorMessage={this.state.error} />}\n\n        {this.state.stage === 0 && (\n          <div style={styles.formContainer}>\n            <Input\n              onChange={this.handleUpdate}\n              placeholder=\"Потребител\"\n              name=\"username\"\n              value={this.state.username}\n              style={styles.Input}\n            />\n\n            <div\n              role=\"button\"\n              tabIndex={0}\n              style={styles.button}\n              onClick={this.login}\n              onKeyDown={this.login}\n            >\n              <span style={styles.buttonText}>Нататък</span>\n            </div>\n          </div>\n        )}\n\n        {this.state.stage === 1 && (\n          <div>\n            <div>Провери имейла си за потвърждаващ код</div>\n            <Input\n              onChange={this.handleUpdate}\n              placeholder=\"потвърждаващ код\"\n              name=\"validation\"\n              value={this.state.validation}\n              style={styles.Input}\n            />\n            <div\n              role=\"button\"\n              tabIndex={0}\n              style={styles.button}\n              onClick={this.submitCode}\n              onKeyDown={this.submitCode}\n            >\n              <span style={styles.buttonText}>ОК</span>\n            </div>\n          </div>\n        )}\n\n        {\n          // password reset\n          this.state.stage === 2 && (\n            <div>\n              <Input\n                type=\"password\"\n                onChange={this.handleUpdate}\n                placeholder=\"new password\"\n                name=\"password\"\n                value={this.state.password}\n                style={styles.Input}\n              />\n              <br />\n              <Input\n                type=\"password\"\n                onChange={this.handleUpdate}\n                placeholder=\"confirm password\"\n                name=\"confirmPassword\"\n                value={this.state.confirmPassword}\n                style={styles.Input}\n              />\n\n              <div\n                role=\"button\"\n                tabIndex={0}\n                style={styles.button}\n                onClick={this.changePassword}\n                onKeyDown={this.changePassword}\n              >\n                <span style={styles.buttonText}>Submit</span>\n              </div>\n            </div>\n          )\n        }\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  Input: {\n    height: 40,\n    margin: \"10px 0px\",\n    padding: 7,\n    width: \"100%\",\n  },\n  formContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  button: {\n    backgroundColor: \"rebeccapurple\",\n    padding: \"15px 7px\",\n    cursor: \"pointer\",\n    textAlign: \"center\",\n    marginBottom: 10,\n  },\n  buttonText: {\n    color: \"white\",\n  },\n};\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect,\n} from \"react-router-dom\";\nimport { Menu } from \"antd\";\nimport { useRecoilValue } from \"recoil\";\nimport Layout from \"./components/layout\";\nimport { Amplify, Auth } from \"aws-amplify\";\nimport Login from \"./components/Login/Login\";\nimport SignUp from \"./components/Login/SignUp\";\nimport Forgot from \"./components/Login/Forgot\";\nimport { loggedInUserData } from \"./utils/state\";\n\nAmplify.configure({\n  aws_project_region: \"eu-west-1\",\n  aws_cognito_identity_pool_id:\n    \"eu-west-1:06863165-5b56-4598-8e87-cc9ae2895f39\",\n  aws_cognito_region: \"eu-west-1\",\n  aws_user_pools_id: \"eu-west-1_sk5LfmU4g\",\n  aws_user_pools_web_client_id: \"6d5of62ku9g4pcl2jpp0rcng67\",\n  oauth: {},\n});\n\nconst Home = ({ user }) => {\n  return <div> {JSON.stringify(user)}</div>;\n};\n\nconst App = () => {\n  const [selected, setSelected] = useState(\"home\");\n  const user1 = useRecoilValue(loggedInUserData);\n  const userStorage = localStorage.getItem(\"user\")\n    ? JSON.parse(localStorage.getItem(\"user\"))\n    : { sub: null };\n  const user = user1.sub ? user1 : userStorage;\n\n  const logout = () => {\n    localStorage.setItem(\"user\", JSON.stringify({ sub: null }));\n    // window.location.reload();\n  };\n  const handleClick = (e) => {\n    console.log(\"click \", e.key);\n    setSelected(e.key);\n    //this.setState({ current: e.key });\n  };\n  return (\n    <Router>\n      <Menu onClick={handleClick} selectedKeys={[selected]} mode=\"horizontal\">\n        {user.sub === null ? (\n          <>\n            <Menu.Item key=\"home\">\n              <Link to=\"/\">Начало</Link>\n            </Menu.Item>\n            <Menu.Item key=\"login\">\n              <Link to=\"/app/login\">Вход</Link>\n            </Menu.Item>\n            <Menu.Item key=\"signup\">\n              <Link to=\"/app/signup\">Регистрация</Link>\n            </Menu.Item>\n            <Menu.Item key=\"forgot\">\n              <Link to=\"/app/forgot\">Забравена парола</Link>\n            </Menu.Item>\n          </>\n        ) : (\n          <>\n            <Menu.Item key=\"logout\">\n              <a\n                href=\"/\"\n                onClick={() =>\n                  Auth.signOut()\n                    .then(logout())\n                    .catch((err) => console.log(\"eror:\", err))\n                }\n              >\n                Изход\n              </a>\n            </Menu.Item>\n          </>\n        )}\n      </Menu>\n\n      <Layout>\n        <Switch>\n          <Route path=\"/app/login\">\n            {user.sub === null ? (\n              <>\n                <h1>Вход</h1>\n                <Login type=\"full\" />\n              </>\n            ) : (\n              <Redirect to=\"/\" />\n            )}\n          </Route>\n          <Route path=\"/app/forgot\">\n            <Forgot />\n          </Route>\n          <Route path=\"/app/signup\">\n            <SignUp />\n          </Route>\n        </Switch>\n        <Route path=\"/\">\n          <Home user={user}></Home>\n        </Route>\n      </Layout>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport { RecoilRoot } from \"recoil\";\nReactDOM.render(\n  <RecoilRoot>\n    <App />\n  </RecoilRoot>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}