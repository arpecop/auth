{"version":3,"sources":["components/layout.js","utils/state.js","components/Error.js","components/Login/Login.js","utils/api.js","components/Login/SignUp.js","components/Login/Forgot.js","components/Welcome.js","components/Admin.js","App.js","utils/hooks.js","index.js"],"names":["Layout","children","data","Helmet","title","meta","name","content","lang","style","margin","maxWidth","padding","paddingTop","loggedInUserData","atom","key","default","sub","email_verified","phone_number_verified","email","username","token","navigation","items","Items","modal","tip","vreme","task","collection","translated","UserNotFoundException","AuthError","CodeMismatchException","NotAuthorizedException","UsernameExistsException","PasswordNotMatch","InvalidParameterException","Empty","Error","props","Object","entries","map","val","description","message","type","styles","Input","height","width","formContainer","display","flexDirection","button","backgroundColor","cursor","textAlign","marginBottom","buttonText","color","Login","useRecoilState","user","setUser","useState","setUsername","password","setPassword","error","setError","nav","setNav","useEffect","login","a","Auth","signIn","currentAuthenticatedUser","user1","currentSession","session","userInfo","attributes","accessToken","jwtToken","refreshtoken","refreshToken","localStorage","setItem","JSON","stringify","x","errorMessage","onChange","event","target","value","placeholder","InputCompact","buttonCompact","onClick","env","api","get","id","axios","headers","test","accesstoken","result","Promise","resolve","post","json","postPublic","put","del","register","SignUp","authCode","stage","state","setState","handleUpdate","signUp","console","log","confirmSignUp","Date","getTime","href","Forgot","validation","confirmPassword","forgotPassword","submitCode","changePassword","forgotPasswordSubmit","role","tabIndex","onKeyDown","Welcome","menu","fields","setFields","descending","response","fetchData","item","Form","edit","open","setOpen","useForm","control","errors","handleSubmit","setValue","onSubmit","newData","newProjects","p","className","as","TextField","label","variant","rules","required","htmlType","Home","edited","setEdited","deleteMe","obj","filter","e","visible","onCancel","onRow","r","rowKey","dataSource","columns","dataIndex","render","date","datetime","locale","Amplify","configure","aws_project_region","aws_cognito_identity_pool_id","aws_cognito_region","aws_user_pools_id","aws_user_pools_web_client_id","oauth","App","useRecoilValue","initialValue","window","getItem","parse","storedValue","setStoredValue","valueToStore","Function","useLocalStorage","dark","setDark","logout","signOut","prevStorage","userStorage","heartbeat","cognitoUser","refreshSession","err","userSession","interval","setInterval","clearInterval","selectedKeys","mode","Item","to","defaultChecked","path","Admin","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c62adee2.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Helmet from \"react-helmet\";\nimport \"antd/dist/antd.css\"; // or 'antd/dist/antd.less'\nimport \"../css/main.css\";\n\nconst Layout = ({ children, data }) => (\n  <>\n    <Helmet\n      title={\"title\"}\n      meta={[\n        { name: \"description\", content: \"Sample\" },\n        { name: \"keywords\", content: \"sample, something\" },\n      ]}\n    >\n      <html lang=\"en\" />\n    </Helmet>\n\n    <div\n      style={{\n        margin: \"0 auto\",\n        maxWidth: 960,\n        padding: \"0px 1.0875rem 1.45rem\",\n        paddingTop: 0,\n      }}\n    >\n      {children}\n    </div>\n  </>\n);\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Layout;\n","import { atom } from 'recoil';\n\nexport const loggedInUserData = atom({\n  key: 'loggedInUser',\n  default: {\n    sub: null,\n    email_verified: null,\n    phone_number_verified: null,\n    email: null,\n    username: null,\n    token: null,\n  },\n});\n\nexport const navigation = atom({\n  key: 'navigation',\n  default: 'home',\n});\nexport const items = atom({\n  key: 'items',\n  default: { Items: [] },\n});\n\nexport const modal = atom({\n  key: 'modal',\n  default: false,\n});\n\nexport const edit = atom({\n  key: 'edit',\n  default: {\n    tip: null,\n    vreme: null,\n    task: null,\n    username: null,\n    collection: null,\n  },\n});\n","import React from 'react';\nimport { Alert } from 'antd';\n\nconst translated = {\n  UserNotFoundException: 'Username does not exist',\n  AuthError: 'Username or Password cannot be empty',\n  CodeMismatchException: 'Invalid code, please try again',\n  NotAuthorizedException: 'Username or Password invalid',\n  UsernameExistsException: 'The user exist',\n  PasswordNotMatch: 'Passwords do not match',\n  InvalidParameterException: 'The password need to be at least 6 symbols',\n  Empty: '',\n};\n\nconst Error = (props) => (\n  <div>\n    {Object.entries(props).map(([err, val]) => val.name !== 'Empty' && (\n    <Alert\n      description={\n          translated[val.name]\n            ? translated[val.name]\n            : `${val.message}-${val.name}`\n        }\n      type=\"error\"\n    />\n    ))}\n  </div>\n);\n\nexport default Error;\n","import React, { useState, useEffect } from 'react';\n\nimport { Auth } from 'aws-amplify';\nimport { useRecoilState } from 'recoil';\nimport { Input } from 'antd';\n\nimport { loggedInUserData, navigation } from '../../utils/state';\nimport Error from '../Error';\n\n//\n\nconst styles = {\n  Input: {\n    height: 40,\n    margin: '10px 0px',\n    padding: 7,\n    width: '100%',\n  },\n  formContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  button: {\n    backgroundColor: 'rebeccapurple',\n    padding: '15px 7px',\n    cursor: 'pointer',\n    textAlign: 'center',\n    marginBottom: 10,\n  },\n  buttonText: {\n    color: 'white',\n  },\n};\nconst Login = ({ type }) => {\n  const [user, setUser] = useRecoilState(loggedInUserData);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(null);\n  const [nav, setNav] = useRecoilState(navigation);\n  useEffect(() => {\n    setNav('login');\n  }, [setNav, nav]);\n  const login = async () => {\n    try {\n      await Auth.signIn(username, password);\n      const user1 = await Auth.currentAuthenticatedUser();\n      const session = await Auth.currentSession();\n\n      const userInfo = {\n        ...user1.attributes,\n        username: user1.username,\n        token: session.accessToken.jwtToken,\n        refreshtoken: session.refreshToken.token,\n      };\n      setUser(userInfo);\n\n      localStorage.setItem('user', JSON.stringify(userInfo));\n    } catch (err) {\n      setError(err);\n    }\n  };\n  return (\n    <>\n      {user.x && <Error errorMessage={error} />}\n      {error && <Error errorMessage={error} />}\n      {type === 'compact' && (\n        <>\n          <Input\n            onChange={(event) => setUsername(event.target.value)}\n            placeholder=\"username\"\n            name=\"username\"\n            value={username}\n            style={styles.InputCompact}\n          />\n          <Input\n            onChange={(event) => setPassword(event.target.value)}\n            placeholder=\"password\"\n            name=\"password\"\n            value={password}\n            type=\"password\"\n            style={styles.InputCompact}\n          />\n          <div style={styles.buttonCompact} onClick={login}>\n            <span style={styles.buttonCompact}>Вход</span>\n          </div>\n        </>\n      )}\n      {type === 'full' && (\n        <>\n          <Input\n            onChange={(event) => setUsername(event.target.value)}\n            placeholder=\"Username\"\n            name=\"username\"\n            value={username}\n            style={styles.Input}\n          />\n          <Input\n            onChange={(event) => setPassword(event.target.value)}\n            placeholder=\"Password\"\n            name=\"password\"\n            value={password}\n            type=\"password\"\n            style={styles.Input}\n          />\n          <div style={styles.button} onClick={login}>\n            <span style={styles.buttonText}>Login</span>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Login;\n","import axios from 'axios';\n\nconst env1 = {\n  development: {\n    api: 'http://localhost:3001',\n  },\n  production: {\n    api: 'https://47ruk9bopl.execute-api.eu-central-1.amazonaws.com/dev',\n  },\n};\nexport const env = env1[process.env.NODE_ENV];\nexport const get = async (id, token) => {\n  const result = await axios.get(`${env.api}${id}`, {\n    headers: {\n      test: 'emperror',\n      accesstoken: token,\n      'Content-Type': 'application/json',\n    },\n  });\n  return new Promise((resolve) => {\n    resolve(result);\n  });\n};\nexport const post = async (json, token) => {\n  const result = await axios.post(`${env.api}/db`, JSON.stringify(json), {\n    headers: {\n      accesstoken: token,\n      'Content-Type': 'application/json',\n    },\n  });\n  return new Promise((resolve) => {\n    resolve(result);\n  });\n};\nexport const postPublic = async (json) => {\n  const result = await axios.post(`${env.api}/dbpublic`, JSON.stringify(json), {\n    headers: {\n\n      'Content-Type': 'application/json',\n    },\n  });\n  return new Promise((resolve) => {\n    resolve(result);\n  });\n};\nexport const put = async (json, token) => {\n  const result = await axios.post(`${env.api}/insert`, JSON.stringify(json), {\n    headers: {\n      accesstoken: token,\n      'Content-Type': 'application/json',\n    },\n  });\n  return new Promise((resolve) => {\n    resolve(result);\n  });\n};\nexport const del = async (json, token) => {\n  const result = await axios.post(`${env.api}/del`, JSON.stringify(json), {\n    headers: {\n      accesstoken: token,\n      'Content-Type': 'application/json',\n    },\n  });\n  return new Promise((resolve) => {\n    resolve(result);\n  });\n};\nexport const register = async (json) => {\n  const result = await axios.post(`${env.api}/register`, JSON.stringify(json), {\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n  return new Promise((resolve) => {\n    resolve(result);\n  });\n};\n","import React, { useState, useEffect } from 'react';\n\nimport { Auth } from 'aws-amplify';\nimport { Input } from 'antd';\nimport { useRecoilState } from 'recoil';\nimport Error from '../Error';\nimport { navigation } from '../../utils/state';\nimport { register } from '../../utils/api';\n\nconst styles = {\n  Input: {\n    height: 40,\n    margin: '10px 0px',\n    padding: 7,\n  },\n  formContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  button: {\n    backgroundColor: 'rebeccapurple',\n    padding: '15px 7px',\n    cursor: 'pointer',\n    textAlign: 'center',\n    marginBottom: 10,\n  },\n  buttonText: {\n    color: 'white',\n  },\n};\nconst SignUp = () => {\n  const [nav, setNav] = useRecoilState(navigation);\n  const [state, setState] = useState({\n    username: '',\n    password: '',\n    email: '',\n    authCode: '',\n    stage: 0,\n    error: '',\n  });\n\n  useEffect(() => {\n    setNav('signup');\n  }, [setNav, nav]);\n  const handleUpdate = (event) => {\n    setState({\n      ...state,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const signUp = async () => {\n    const { username, password, email } = state;\n    try {\n      await Auth.signUp({\n        username,\n        password,\n        attributes: { email },\n      });\n      setState({ ...state, stage: 1, error: { name: 'Empty' } });\n    } catch (err) {\n      setState({ ...state, error: err });\n      console.log('error signing up...', err);\n    }\n  };\n\n  const confirmSignUp = async () => {\n    const { username, authCode, email } = state;\n    try {\n      await Auth.confirmSignUp(username, authCode);\n      await register({\n        username,\n        email,\n        tip: 'usersauth',\n        vreme: new Date().getTime(),\n      });\n      setState({ ...state, stage: 2, error: { name: 'Empty' } });\n    } catch (err) {\n      setState({ ...state, error: err });\n      console.log('error confirming signing up...', err);\n    }\n  };\n  return (\n    <div>\n      {state.stage === 0 && (\n        <div style={styles.formContainer}>\n          <h1>Sign Up</h1>\n          {state.error && <Error errorMessage={state.error} />}\n          <Input\n            onChange={handleUpdate}\n            placeholder=\"Username\"\n            name=\"username\"\n            value={state.username}\n            style={styles.Input}\n          />\n          <Input\n            onChange={handleUpdate}\n            placeholder=\"Password\"\n            name=\"password\"\n            value={state.password}\n            type=\"password\"\n            style={styles.Input}\n          />\n          <Input\n            onChange={handleUpdate}\n            placeholder=\"Email\"\n            name=\"email\"\n            value={state.email}\n            style={styles.Input}\n          />\n\n          <div style={styles.button} onClick={signUp}>\n            <span style={styles.buttonText}>Sign Up</span>\n          </div>\n        </div>\n      )}\n      {state.stage === 1 && (\n        <div style={styles.formContainer}>\n          <h1>Registration</h1>\n          {state.error && <Error errorMessage={state.error} />}\n          <Input\n            onChange={handleUpdate}\n            placeholder=\"Authorization Code\"\n            name=\"authCode\"\n            value={state.authCode}\n            style={styles.Input}\n          />\n          <div style={styles.button} onClick={confirmSignUp}>\n            <span style={styles.buttonText}>Confirm Sign Up</span>\n          </div>\n        </div>\n      )}\n\n      {state.stage === 2 && (\n        <>\n          Registratino successful ,\n          <a href=\"/app/login\">Login</a>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default SignUp;\n","import React, { useState, useEffect } from 'react';\n\nimport { Auth } from 'aws-amplify';\nimport { Input } from 'antd';\nimport { useRecoilState } from 'recoil';\nimport Error from '../Error';\n\nimport { navigation } from '../../utils/state';\n\nconst styles = {\n  Input: {\n    height: 40,\n    margin: '10px 0px',\n    padding: 7,\n    width: '100%',\n  },\n  formContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  button: {\n    backgroundColor: 'rebeccapurple',\n    padding: '15px 7px',\n    cursor: 'pointer',\n    textAlign: 'center',\n    marginBottom: 10,\n  },\n  buttonText: {\n    color: 'white',\n  },\n};\nconst Forgot = () => {\n  const [nav, setNav] = useRecoilState(navigation);\n  const [state, setState] = useState({\n    username: '',\n    error: '',\n    validation: '',\n    password: '',\n    confirmPassword: '',\n    stage: 0,\n  });\n\n  useEffect(() => {\n    setNav('forgot');\n  }, [setNav, nav]);\n  const login = async () => {\n    try {\n      await Auth.forgotPassword(state.username);\n\n      setState({ ...state, stage: 1, error: { name: 'Empty' } });\n    } catch (err) {\n      setState({ ...state, error: err });\n    }\n  };\n  const submitCode = () => {\n    setState({ ...state, stage: 2 });\n  };\n  const changePassword = async () => {\n    try {\n      if (state.password === state.confirmPassword) {\n        await Auth.forgotPasswordSubmit(\n          state.username,\n          state.validation,\n          state.password,\n        );\n        setState({ ...state, stage: 3, error: { name: 'Empty' } });\n      } else {\n        setState({\n          ...state,\n          error: { name: 'PasswordNotMatch', message: \"Passwords don't Match\" },\n        });\n      }\n    } catch (err) {\n      setState({ ...state, error: err });\n    }\n  };\n  const handleUpdate = (event) => {\n    setState({\n      ...state,\n      [event.target.name]: event.target.value,\n    });\n  };\n  return (\n    <div>\n      <h1>Forgot Password</h1>\n      {state.error && <Error errorMessage={state.error} />}\n\n      {state.stage === 0 && (\n        <div style={styles.formContainer}>\n          <Input\n            onChange={handleUpdate}\n            placeholder=\"username\"\n            name=\"username\"\n            value={state.username}\n            style={styles.Input}\n          />\n\n          <div\n            role=\"button\"\n            tabIndex={0}\n            style={styles.button}\n            onClick={login}\n            onKeyDown={login}\n          >\n            <span style={styles.buttonText}>Next</span>\n          </div>\n        </div>\n      )}\n\n      {state.stage === 1 && (\n        <div>\n          <div>Check your email for confirmation code</div>\n          <Input\n            onChange={handleUpdate}\n            placeholder=\"confirmation code\"\n            name=\"validation\"\n            value={state.validation}\n            style={styles.Input}\n          />\n          <div\n            role=\"button\"\n            tabIndex={0}\n            style={styles.button}\n            onClick={submitCode}\n            onKeyDown={submitCode}\n          >\n            <span style={styles.buttonText}>ОК</span>\n          </div>\n        </div>\n      )}\n\n      {state.stage === 2 && (\n        <div>\n          <Input\n            type=\"password\"\n            onChange={handleUpdate}\n            placeholder=\"new password\"\n            name=\"password\"\n            value={state.password}\n            style={styles.Input}\n          />\n          <br />\n          <Input\n            type=\"password\"\n            onChange={handleUpdate}\n            placeholder=\"confirm password\"\n            name=\"confirmPassword\"\n            value={state.confirmPassword}\n            style={styles.Input}\n          />\n\n          <div\n            role=\"button\"\n            tabIndex={0}\n            href=\"/\"\n            style={styles.button}\n            onClick={changePassword}\n            onKeyDown={changePassword}\n          >\n            <span style={styles.buttonText}>Change password</span>\n          </div>\n        </div>\n      )}\n      {state.stage === 3 && (\n        <>\n          <>\n            Password changed ,\n            <a href=\"/app/login\">Login</a>\n          </>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Forgot;\n","import React, { useEffect, useState } from 'react';\n\nimport { useRecoilState } from 'recoil';\nimport { postPublic } from '../utils/api';\nimport { navigation } from '../utils/state';\n\nconst Welcome = ({ menu }) => {\n  const [nav, setNav] = useRecoilState(navigation);\n  const [fields, setFields] = useState({ Items: [] });\n  useEffect(() => {\n    setNav(menu);\n  }, [setNav, nav, menu]);\n\n  useEffect(() => {\n    async function fetchData() {\n      const response = await postPublic(\n        {\n          collection: 'test-all',\n          descending: false,\n        },\n      );\n      setFields(response.data);\n    }\n    fetchData();\n  }, []);\n\n  return (\n    <div>\n      <h2>Public Feed</h2>\n      {fields.Items.map((item) => (\n        <div key={item.vreme}>\n\n          <small>\n            {`${item.username ? item.username : 'admin'} added: `}\n          </small>\n          {item.task}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Welcome;\n","import React, { useEffect, useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { useForm, Controller } from 'react-hook-form';\nimport { Button, Table, Modal } from 'antd';\nimport TimeAgo from 'timeago-react';\nimport { useRecoilState } from 'recoil';\nimport { post, put, del } from '../utils/api';\nimport { items, navigation, modal } from '../utils/state';\n\nconst Form = ({ user, edit }) => {\n  const [fields, setFields] = useRecoilState(items);\n  const [open, setOpen] = useRecoilState(modal);\n  const {\n    control, errors, handleSubmit, setValue,\n  } = useForm();\n  useEffect(() => {\n    setValue('task', edit ? edit.task : '');\n  }, [edit, open, setValue]);\n  const onSubmit = async (data) => {\n    const newData = {\n      ...data,\n      vreme: edit ? edit.vreme : new Date().getTime(),\n      tip: 'test-',\n    };\n    if (!open) {\n      setFields(\n        fields.Items\n          ? { Items: [newData, ...fields.Items] }\n          : { Items: [newData] },\n      );\n    } else {\n      const newProjects = fields.Items.map((p) => (p.vreme === edit.vreme ? newData : p));\n\n      setFields({ Items: newProjects });\n    }\n    await put(newData, user.token);\n    await put({ ...newData, tip: 'test-all' }, user.token);\n    setValue('task', '');\n\n    setOpen(false);\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <div className=\"inputwrapper\">\n        <Controller\n          as={(\n            <TextField\n              id=\"outlined-basic\"\n              error={!!errors.task}\n              label={errors.task ? 'task is required' : 'task'}\n              variant=\"outlined\"\n\n              style={{ width: '100%' }}\n            />\n          )}\n          name=\"task\"\n          control={control}\n\n          rules={{ required: true }}\n        />\n      </div>\n\n      <Button type=\"primary\" htmlType=\"submit\">\n        Submit\n      </Button>\n    </form>\n  );\n};\nconst Home = ({ user, edit }) => {\n  const [nav, setNav] = useRecoilState(navigation);\n  const [fields, setFields] = useRecoilState(items);\n  const [open, setOpen] = useRecoilState(modal);\n  const [edited, setEdited] = useState({});\n  useEffect(() => {\n    setNav('admin');\n  }, [setNav, nav]);\n  useEffect(() => {\n    async function fetchData() {\n      const response = await post(\n        {\n          collection: 'test-',\n          descending: false,\n        },\n        user.token,\n      );\n      setFields(response.data);\n    }\n    fetchData();\n  }, [user, setFields]);\n  const deleteMe = async (obj) => {\n    await del(obj, user.token);\n    setFields({ Items: fields.Items.filter((e) => e.vreme !== obj.id) });\n  };\n  return (\n    <div>\n      <h1>{user.username}</h1>\n      <Modal\n        title={`Edit ${edited.task}`}\n        visible={open}\n        // onOk={this.handleOk}\n        onCancel={() => {\n          setOpen(false);\n        }}\n      >\n\n        <Form user={user} edit={edited} />\n      </Modal>\n      <Form user={user} />\n\n      <Table\n        onRow={(r) => ({\n          onClick: () => setEdited(r),\n        })}\n        rowKey=\"vreme\"\n        dataSource={fields.Items}\n        columns={[\n          {\n            title: 'Task',\n            dataIndex: 'task',\n            key: 'task',\n          },\n          {\n            title: 'date',\n            dataIndex: 'vreme',\n            key: 'date',\n            render: (date) => (\n              <div>\n                <TimeAgo datetime={new Date(date)} locale=\"bg_BG\" />\n              </div>\n            ),\n          },\n          {\n            title: 'manage',\n            dataIndex: 'vreme',\n            key: 'date',\n            render: () => <Button onClick={() => setOpen(true)}>Edit</Button>,\n          },\n          {\n            title: 'manage',\n            dataIndex: 'vreme',\n            key: 'date',\n            render: (vreme) => (\n              <Button\n                onClick={() => deleteMe({ collection: 'test-', id: vreme })}\n              >\n                Delete\n              </Button>\n            ),\n          },\n        ]}\n      />\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useEffect } from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect,\n} from 'react-router-dom';\n\nimport { Menu, Switch as Switch1 } from 'antd';\nimport { useRecoilState, useRecoilValue } from 'recoil';\nimport { Amplify, Auth } from 'aws-amplify';\nimport Layout from './components/layout';\nimport Login from './components/Login/Login';\nimport SignUp from './components/Login/SignUp';\nimport Forgot from './components/Login/Forgot';\nimport Welcome from './components/Welcome';\nimport Admin from './components/Admin';\nimport { loggedInUserData, navigation } from './utils/state';\nimport { get } from './utils/api';\nimport useLocalStorage from './utils/hooks';\n\nAmplify.configure({\n  aws_project_region: 'eu-west-1',\n  aws_cognito_identity_pool_id:\n    'eu-west-1:3f5f916d-2252-487f-99c0-7aa69115f973',\n  aws_cognito_region: 'eu-west-1',\n  aws_user_pools_id: 'eu-west-1_T6v05tjzh',\n  aws_user_pools_web_client_id: 'eqlretnsetkj5p57bqtandjqa',\n  oauth: {},\n});\n\nconst App = () => {\n  const [user, setUser] = useRecoilState(loggedInUserData);\n  const nav = useRecoilValue(navigation);\n\n  const [dark, setDark] = useLocalStorage('theme', false);\n\n  const logout = async () => {\n    await Auth.signOut();\n    localStorage.setItem('user', JSON.stringify({}));\n    setUser({});\n  };\n\n  useEffect(() => {\n    const prevStorage = localStorage.getItem('user');\n    const userStorage = prevStorage ? JSON.parse(prevStorage) : {};\n    setUser(userStorage);\n  }, [setUser]);\n\n  useEffect(() => {\n    const heartbeat = async () => {\n      if (user.token) {\n        const sess = await get('/heartbeat', user.token);\n        if (sess.data.name === 'TokenExpiredError') {\n          const cognitoUser = await Auth.currentAuthenticatedUser();\n          const currentSession = await Auth.currentSession();\n          cognitoUser.refreshSession(\n            currentSession.refreshToken,\n            (err, session) => {\n              const userSession = {\n                ...user,\n                token: session.accessToken.jwtToken,\n              };\n              setUser(userSession);\n              localStorage.setItem('user', JSON.stringify(userSession));\n            },\n          );\n          // localStorage.setItem('user', JSON.stringify(userInfo));\n        }\n      }\n    };\n    heartbeat();\n\n    const interval = setInterval(async () => {\n      heartbeat();\n    }, 20000);\n    return () => clearInterval(interval);\n  }, [user, setUser]);\n\n  return (\n    <Router>\n      <div className={dark ? 'dark' : 'white'}>\n        <Menu selectedKeys={[nav]} mode=\"horizontal\">\n          <Menu.Item key=\"home\">\n            <Link to=\"/\">Home</Link>\n          </Menu.Item>\n          {!user.username ? (\n            <>\n              <Menu.Item key=\"login\">\n                <Link to=\"/app/login\">Login</Link>\n              </Menu.Item>\n              <Menu.Item key=\"signup\">\n                <Link to=\"/app/signup\">Sign Up</Link>\n              </Menu.Item>\n              <Menu.Item key=\"forgot\">\n                <Link to=\"/app/forgot\">Forgot Password</Link>\n              </Menu.Item>\n            </>\n          ) : (\n            <>\n              <Menu.Item key=\"admin\">\n                <Link to=\"/app/admin\">Admin</Link>\n              </Menu.Item>\n              <Menu.Item key=\"logout\">\n                <Link to=\"/\" onClick={() => logout()}>\n                  Logout\n                </Link>\n              </Menu.Item>\n            </>\n          )}\n        </Menu>\n        <div className=\"switcher\">\n          <Switch1 defaultChecked={dark} onChange={() => setDark(!dark)} />\n        </div>\n        <Layout>\n          <Switch>\n            <Route path=\"/app/login\">\n              {!user.username ? (\n                <>\n                  <h1>Login</h1>\n                  <Login type=\"full\" />\n                </>\n              ) : (\n                <Redirect to=\"/\" />\n              )}\n            </Route>\n            <Route path=\"/app/forgot\">\n              <Forgot />\n            </Route>\n            <Route path=\"/app/signup\">\n              <SignUp />\n            </Route>\n            <Route path=\"/app/feed\">\n              <Welcome menu=\"feed\" />\n            </Route>\n            <Route path=\"/app/admin\">\n              {user.username && (<Admin menu=\"admin\" user={user} />)}\n            </Route>\n            <Route path=\"/\">\n              <Welcome menu=\"home\" />\n            </Route>\n          </Switch>\n        </Layout>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","import { useState } from 'react';\n\n// export default const useLocalStorage = (key, initialValue) => {\nexport default function useLocalStorage(key, initialValue) {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      // Get from local storage by key\n      const item = window.localStorage.getItem(key);\n      // Parse stored json or if none return initialValue\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      // If error also return initialValue\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = (value) => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { RecoilRoot } from 'recoil';\nimport App from './App';\n\nReactDOM.render(\n  <RecoilRoot>\n    <App />\n  </RecoilRoot>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}