(this.webpackJsonpauth=this.webpackJsonpauth||[]).push([[0],{138:function(e,t,a){e.exports=a(232)},169:function(e,t,a){},232:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),o=a.n(l),s=a(33),c=a(30),u=a(57),i=a(12),m=a(241),p=a(83),d=a(238),h=a(118),g=(a(168),a(169),function(e){var t=e.children;e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{title:"title",meta:[{name:"description",content:"Sample"},{name:"keywords",content:"sample, something"}]},r.a.createElement("html",{lang:"en"})),r.a.createElement("div",{style:{margin:"0 auto",maxWidth:960,padding:"0px 1.0875rem 1.45rem",paddingTop:0}},t))}),b=a(18),E=a.n(b),f=a(82),v=a(36),y=a(239),w=Object(s.atom)({key:"loggedInUser",default:{sub:null,email_verified:null,phone_number_verified:null,email:null,username:null}}),x={UserNotFoundException:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f \u043d\u0435 \u0441\u044a\u0449\u0435\u0441\u0442\u0432\u0443\u0432\u0430",AuthError:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u0430 \u043d\u0435 \u043c\u043e\u0433\u0430\u0442 \u0434\u0430 \u0431\u044a\u0434\u0430\u0442 \u043f\u0440\u0430\u0437\u043d\u0438",CodeMismatchException:"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u043a\u043e\u0434 , \u043c\u043e\u043b\u044f \u043e\u043f\u0438\u0442\u0430\u0439\u0442\u0435 \u043e\u0442\u043d\u043e\u0432\u043e",NotAuthorizedException:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u0430 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u0438"},C=function(e){return r.a.createElement("div",null,Object.entries(e).map((function(e){var t=Object(c.a)(e,2),a=(t[0],t[1]);return r.a.createElement("div",{className:"err",key:a.name},x[a.name]?x[a.name]:a.message," ",a.name)})))},k={Input:{height:40,margin:"10px 0px",padding:7,width:"100%"},formContainer:{display:"flex",flexDirection:"column"},button:{backgroundColor:"rebeccapurple",padding:"15px 7px",cursor:"pointer",textAlign:"center",marginBottom:10},buttonText:{color:"white"}},O=function(e){var t=Object(s.useRecoilState)(w),a=Object(c.a)(t,2),l=a[0],o=a[1],u=Object(n.useState)(""),i=Object(c.a)(u,2),m=i[0],p=i[1],h=Object(n.useState)(""),g=Object(c.a)(h,2),b=g[0],x=g[1],O=Object(n.useState)(null),j=Object(c.a)(O,2),S=j[0],I=j[1],U=function(){var e=Object(v.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.signIn(m,b);case 3:return e.next=5,d.a.currentAuthenticatedUser();case 5:t=e.sent,a=Object(f.a)(Object(f.a)({},t.attributes),{},{username:t.username}),o(a),localStorage.setItem("user",JSON.stringify(a)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error...: ",e.t0),I(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,l.x&&r.a.createElement(C,{errorMessage:S}),S&&r.a.createElement(C,{errorMessage:S}),"compact"===e.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onChange:function(e){return p(e.target.value)},placeholder:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b",name:"username",value:m,style:k.InputCompact}),r.a.createElement(y.a,{onChange:function(e){return x(e.target.value)},placeholder:"\u041f\u0430\u0440\u043e\u043b\u0430",name:"password",value:b,type:"password",style:k.InputCompact}),r.a.createElement("div",{style:k.buttonCompact,onClick:U},r.a.createElement("span",{style:k.buttonCompact},"\u0412\u0445\u043e\u0434"))),"full"===e.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onChange:function(e){return p(e.target.value)},placeholder:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b",name:"username",value:m,style:k.Input}),r.a.createElement(y.a,{onChange:function(e){return x(e.target.value)},placeholder:"\u041f\u0430\u0440\u043e\u043b\u0430",name:"password",value:b,type:"password",style:k.Input}),r.a.createElement("div",{style:k.button,onClick:U},r.a.createElement("span",{style:k.buttonText},"\u0412\u0445\u043e\u0434"))))},j=a(48),S=a(67),I=a(68),U=a(72),_=a(71),P=function(e){Object(U.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(S.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",email:"",authCode:"",stage:0,error:""},e.handleUpdate=function(t){e.setState(Object(j.a)({},t.target.name,t.target.value))},e.signUp=Object(v.a)(E.a.mark((function t(){var a,n,r,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.username,r=a.password,l=a.email,t.prev=1,t.next=4,d.a.signUp({username:n,password:r,attributes:{email:l}});case 4:e.setState({stage:1}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),e.setState({error:t.t0}),console.log("error signing up...",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,7]])}))),e.confirmSignUp=Object(v.a)(E.a.mark((function t(){var a,n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.username,r=a.authCode,t.prev=1,t.next=4,d.a.confirmSignUp(n,r);case 4:alert("Successfully signed up!"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),e.setState({error:t.t0}),console.log("error confirming signing up...",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,7]])}))),e}return Object(I.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),0===this.state.stage&&r.a.createElement("div",{style:T.formContainer},this.state.error&&r.a.createElement(C,{errorMessage:this.state.error}),r.a.createElement(y.a,{onChange:this.handleUpdate,placeholder:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b",name:"username",value:this.state.username,style:T.Input}),r.a.createElement(y.a,{onChange:this.handleUpdate,placeholder:"\u041f\u0430\u0440\u043e\u043b\u0430",name:"password",value:this.state.password,type:"password",style:T.Input}),r.a.createElement(y.a,{onChange:this.handleUpdate,placeholder:"Email",name:"email",value:this.state.email,style:T.Input}),r.a.createElement("div",{style:T.button,onClick:this.signUp},r.a.createElement("span",{style:T.buttonText},"Sign Up"))),1===this.state.stage&&r.a.createElement("div",{style:T.formContainer},this.state.error&&r.a.createElement(C,{errorMessage:this.state.error}),r.a.createElement(y.a,{onChange:this.handleUpdate,placeholder:"Authorization Code",name:"authCode",value:this.state.authCode,style:T.Input}),r.a.createElement("div",{style:T.button,onClick:this.confirmSignUp},r.a.createElement("span",{style:T.buttonText},"Confirm Sign Up"))))}}]),a}(r.a.Component),T={Input:{height:40,margin:"10px 0px",padding:7},formContainer:{display:"flex",flexDirection:"column"},button:{backgroundColor:"rebeccapurple",padding:"15px 7px",cursor:"pointer",textAlign:"center",marginBottom:10},buttonText:{color:"white"}},A=P,F=function(e){Object(U.a)(a,e);var t=Object(_.a)(a);function a(){var e;Object(S.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:"",error:"",validation:"",password:"",confirmPassword:"",stage:0},e.login=Object(v.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.forgotPassword(e.state.username);case 3:a=t.sent,console.log(a),e.setState({stage:1}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),e.setState({error:t.t0}),console.log("error...: ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.submitCode=function(){e.setState({stage:2})},e.changePassword=Object(v.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.state.password!==e.state.confirmPassword){t.next=6;break}return t.next=4,d.a.forgotPasswordSubmit(e.state.username,e.state.validation,e.state.password);case 4:t.next=7;break;case 6:e.setState({error:{message:"Passwords don't Match"}});case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),e.setState({error:t.t0}),console.log("error...: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,9]])}))),e.handleUpdate=function(t){e.setState(Object(j.a)({},t.target.name,t.target.value))},e}return Object(I.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"\u0417\u0430\u0431\u0432\u0430\u0432\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430"),this.state.error&&r.a.createElement(C,{errorMessage:this.state.error}),0===this.state.stage&&r.a.createElement("div",{style:M.formContainer},r.a.createElement(y.a,{onChange:this.handleUpdate,placeholder:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b",name:"username",value:this.state.username,style:M.Input}),r.a.createElement("div",{role:"button",tabIndex:0,style:M.button,onClick:this.login,onKeyDown:this.login},r.a.createElement("span",{style:M.buttonText},"\u041d\u0430\u0442\u0430\u0442\u044a\u043a"))),1===this.state.stage&&r.a.createElement("div",null,r.a.createElement("div",null,"\u041f\u0440\u043e\u0432\u0435\u0440\u0438 \u0438\u043c\u0435\u0439\u043b\u0430 \u0441\u0438 \u0437\u0430 \u043f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0430\u0432\u0430\u0449 \u043a\u043e\u0434"),r.a.createElement(y.a,{onChange:this.handleUpdate,placeholder:"\u043f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0430\u0432\u0430\u0449 \u043a\u043e\u0434",name:"validation",value:this.state.validation,style:M.Input}),r.a.createElement("div",{role:"button",tabIndex:0,style:M.button,onClick:this.submitCode,onKeyDown:this.submitCode},r.a.createElement("span",{style:M.buttonText},"\u041e\u041a"))),2===this.state.stage&&r.a.createElement("div",null,r.a.createElement(y.a,{type:"password",onChange:this.handleUpdate,placeholder:"new password",name:"password",value:this.state.password,style:M.Input}),r.a.createElement("br",null),r.a.createElement(y.a,{type:"password",onChange:this.handleUpdate,placeholder:"confirm password",name:"confirmPassword",value:this.state.confirmPassword,style:M.Input}),r.a.createElement("a",{role:"button",tabIndex:0,href:"/",style:M.button,onClick:this.changePassword,onKeyDown:this.changePassword},r.a.createElement("span",{style:M.buttonText},"\u0421\u043c\u0435\u043d\u0438"))))}}]),a}(r.a.Component),M={Input:{height:40,margin:"10px 0px",padding:7,width:"100%"},formContainer:{display:"flex",flexDirection:"column"},button:{backgroundColor:"rebeccapurple",padding:"15px 7px",cursor:"pointer",textAlign:"center",marginBottom:10},buttonText:{color:"white"}},N=F,D=function(e){var t=e.user;return r.a.createElement("div",null,r.a.createElement("h1",null,"\u041d\u0430\u0447\u0430\u043b\u043e"),JSON.stringify(t))};p.a.configure({aws_project_region:"eu-west-1",aws_cognito_identity_pool_id:"eu-west-1:06863165-5b56-4598-8e87-cc9ae2895f39",aws_cognito_region:"eu-west-1",aws_user_pools_id:"eu-west-1_sk5LfmU4g",aws_user_pools_web_client_id:"6d5of62ku9g4pcl2jpp0rcng67",oauth:{}});var J=function(){var e=Object(n.useState)("home"),t=Object(c.a)(e,2),a=t[0],l=t[1],o=Object(s.useRecoilValue)(w),p=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{sub:null},h=o.sub?o:p;return r.a.createElement(u.a,null,r.a.createElement(m.a,{onClick:function(e){l(e.key)},selectedKeys:[a],mode:"horizontal"},r.a.createElement(m.a.Item,{key:"home"},r.a.createElement(u.b,{to:"/"},"\u041d\u0430\u0447\u0430\u043b\u043e")),null===h.sub?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a.Item,{key:"login"},r.a.createElement(u.b,{to:"/app/login"},"\u0412\u0445\u043e\u0434")),r.a.createElement(m.a.Item,{key:"signup"},r.a.createElement(u.b,{to:"/app/signup"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),r.a.createElement(m.a.Item,{key:"forgot"},r.a.createElement(u.b,{to:"/app/forgot"},"\u0417\u0430\u0431\u0440\u0430\u0432\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a.Item,{key:"logout"},r.a.createElement("a",{href:"/",onClick:function(){return d.a.signOut().then(void localStorage.setItem("user",JSON.stringify({sub:null})))}},"\u0418\u0437\u0445\u043e\u0434")))),r.a.createElement(g,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/app/login"},null===h.sub?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u0412\u0445\u043e\u0434"),r.a.createElement(O,{type:"full"})):r.a.createElement(i.a,{to:"/"})),r.a.createElement(i.b,{path:"/app/forgot"},r.a.createElement(N,null)),r.a.createElement(i.b,{path:"/app/signup"},r.a.createElement(A,null)),r.a.createElement(i.b,{path:"/"},r.a.createElement(D,{user:h})))))};o.a.render(r.a.createElement(s.RecoilRoot,null,r.a.createElement(J,null)),document.getElementById("root"))}},[[138,1,2]]]);
//# sourceMappingURL=main.bc119815.chunk.js.map