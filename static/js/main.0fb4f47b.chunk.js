(this.webpackJsonpauth=this.webpackJsonpauth||[]).push([[0],{168:function(e,t,a){e.exports=a(289)},199:function(e,t,a){},289:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),o=a(49),u=a(33),s=a(73),i=a(22),m=a(298),p=a(97),d=a(295),g=a(136),b=(a(198),a(199),function(e){var t=e.children;e.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{title:"title",meta:[{name:"description",content:"Sample"},{name:"keywords",content:"sample, something"}]},r.a.createElement("html",{lang:"en"})),r.a.createElement("div",{style:{margin:"0 auto",maxWidth:960,padding:"0px 1.0875rem 1.45rem",paddingTop:0}},t))}),f=a(25),E=a.n(f),h=a(8),v=a(37),y=a(296),w=Object(o.atom)({key:"loggedInUser",default:{sub:null,email_verified:null,phone_number_verified:null,email:null,username:null}}),x=a(299),O={UserNotFoundException:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f \u043d\u0435 \u0441\u044a\u0449\u0435\u0441\u0442\u0432\u0443\u0432\u0430",AuthError:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u0430 \u043d\u0435 \u043c\u043e\u0433\u0430\u0442 \u0434\u0430 \u0431\u044a\u0434\u0430\u0442 \u043f\u0440\u0430\u0437\u043d\u0438",CodeMismatchException:"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u043a\u043e\u0434 , \u043c\u043e\u043b\u044f \u043e\u043f\u0438\u0442\u0430\u0439\u0442\u0435 \u043e\u0442\u043d\u043e\u0432\u043e",NotAuthorizedException:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u0430 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u0438",UsernameExistsException:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f \u0441\u044a\u0449\u0435\u0441\u0442\u0432\u0443\u0432\u0430",PasswordNotMatch:"\u041f\u0430\u0440\u043e\u043b\u0438\u0442\u0435 \u043d\u0435 \u0441\u044a\u0432\u043f\u0430\u0434\u0430\u0442",InvalidParameterException:"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043f\u043e\u043d\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u0430",Empty:""},j=function(e){return r.a.createElement("div",null,Object.entries(e).map((function(e){var t=Object(u.a)(e,2),a=(t[0],t[1]);return r.a.createElement(x.a,{description:O[a.name]?O[a.name]:"".concat(a.message,"-").concat(a.name),type:"error"})})))},C={Input:{height:40,margin:"10px 0px",padding:7,width:"100%"},formContainer:{display:"flex",flexDirection:"column"},button:{backgroundColor:"rebeccapurple",padding:"15px 7px",cursor:"pointer",textAlign:"center",marginBottom:10},buttonText:{color:"white"}},k=function(e){var t=e.type,a=Object(o.useRecoilState)(w),l=Object(u.a)(a,2),c=l[0],s=l[1],i=Object(n.useState)(""),m=Object(u.a)(i,2),p=m[0],g=m[1],b=Object(n.useState)(""),f=Object(u.a)(b,2),x=f[0],O=f[1],k=Object(n.useState)(null),I=Object(u.a)(k,2),S=I[0],_=I[1],P=function(){var e=Object(v.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.signIn(p,x);case 3:return e.next=5,d.a.currentAuthenticatedUser();case 5:t=e.sent,a=Object(h.a)(Object(h.a)({},t.attributes),{},{username:t.username}),s(a),localStorage.setItem("user",JSON.stringify(a)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,c.x&&r.a.createElement(j,{errorMessage:S}),S&&r.a.createElement(j,{errorMessage:S}),"compact"===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onChange:function(e){return g(e.target.value)},placeholder:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b",name:"username",value:p,style:C.InputCompact}),r.a.createElement(y.a,{onChange:function(e){return O(e.target.value)},placeholder:"\u041f\u0430\u0440\u043e\u043b\u0430",name:"password",value:x,type:"password",style:C.InputCompact}),r.a.createElement("div",{style:C.buttonCompact,onClick:P},r.a.createElement("span",{style:C.buttonCompact},"\u0412\u0445\u043e\u0434"))),"full"===t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{onChange:function(e){return g(e.target.value)},placeholder:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b",name:"username",value:p,style:C.Input}),r.a.createElement(y.a,{onChange:function(e){return O(e.target.value)},placeholder:"\u041f\u0430\u0440\u043e\u043b\u0430",name:"password",value:x,type:"password",style:C.Input}),r.a.createElement("div",{style:C.button,onClick:P},r.a.createElement("span",{style:C.buttonText},"\u0412\u0445\u043e\u0434"))))},I=a(63),S={Input:{height:40,margin:"10px 0px",padding:7},formContainer:{display:"flex",flexDirection:"column"},button:{backgroundColor:"rebeccapurple",padding:"15px 7px",cursor:"pointer",textAlign:"center",marginBottom:10},buttonText:{color:"white"}},_=function(){var e=Object(n.useState)({username:"",password:"",email:"",authCode:"",stage:0,error:""}),t=Object(u.a)(e,2),a=t[0],l=t[1],c=function(e){l(Object(h.a)(Object(h.a)({},a),{},Object(I.a)({},e.target.name,e.target.value)))},o=function(){var e=Object(v.a)(E.a.mark((function e(){var t,n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.username,n=a.password,r=a.email,e.prev=1,e.next=4,d.a.signUp({username:t,password:n,attributes:{email:r}});case 4:l(Object(h.a)(Object(h.a)({},a),{},{stage:1})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),l(Object(h.a)(Object(h.a)({},a),{},{error:e.t0})),console.log("error signing up...",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(v.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.username,n=a.authCode,e.prev=1,e.next=4,d.a.confirmSignUp(t,n);case 4:l(Object(h.a)(Object(h.a)({},a),{},{stage:2,error:{name:"Empty"}})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),l(Object(h.a)(Object(h.a)({},a),{},{error:e.t0})),console.log("error confirming signing up...",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,0===a.stage&&r.a.createElement("div",{style:S.formContainer},r.a.createElement("h1",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),a.error&&r.a.createElement(j,{errorMessage:a.error}),r.a.createElement(y.a,{onChange:c,placeholder:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b",name:"username",value:a.username,style:S.Input}),r.a.createElement(y.a,{onChange:c,placeholder:"\u041f\u0430\u0440\u043e\u043b\u0430",name:"password",value:a.password,type:"password",style:S.Input}),r.a.createElement(y.a,{onChange:c,placeholder:"Email",name:"email",value:a.email,style:S.Input}),r.a.createElement("div",{style:S.button,onClick:o},r.a.createElement("span",{style:S.buttonText},"Sign Up"))),1===a.stage&&r.a.createElement("div",{style:S.formContainer},r.a.createElement("h1",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),a.error&&r.a.createElement(j,{errorMessage:a.error}),r.a.createElement(y.a,{onChange:c,placeholder:"Authorization Code",name:"authCode",value:a.authCode,style:S.Input}),r.a.createElement("div",{style:S.button,onClick:s},r.a.createElement("span",{style:S.buttonText},"Confirm Sign Up"))),2===a.stage&&r.a.createElement(r.a.Fragment,null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f\u0442\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u0430",r.a.createElement("h1",null,"\u0412\u0445\u043e\u0434"),r.a.createElement(k,{type:"full"})))},P={Input:{height:40,margin:"10px 0px",padding:7,width:"100%"},formContainer:{display:"flex",flexDirection:"column"},button:{backgroundColor:"rebeccapurple",padding:"15px 7px",cursor:"pointer",textAlign:"center",marginBottom:10},buttonText:{color:"white"}},T=function(){var e=Object(n.useState)({username:"",error:"",validation:"",password:"",confirmPassword:"",stage:0}),t=Object(u.a)(e,2),a=t[0],l=t[1],c=function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.forgotPassword(a.username);case 3:l(Object(h.a)(Object(h.a)({},a),{},{stage:1})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l(Object(h.a)(Object(h.a)({},a),{},{error:e.t0}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),o=function(){l(Object(h.a)(Object(h.a)({},a),{},{stage:2}))},s=function(){var e=Object(v.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.password!==a.confirmPassword){e.next=7;break}return e.next=4,d.a.forgotPasswordSubmit(a.username,a.validation,a.password);case 4:l(Object(h.a)(Object(h.a)({},a),{},{stage:3,error:{name:"Empty"}})),e.next=8;break;case 7:l(Object(h.a)(Object(h.a)({},a),{},{error:{name:"PasswordNotMatch",message:"Passwords don't Match"}}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),l(Object(h.a)(Object(h.a)({},a),{},{error:e.t0}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),i=function(e){l(Object(h.a)(Object(h.a)({},a),{},Object(I.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",null,r.a.createElement("h1",null,"\u0417\u0430\u0431\u0432\u0430\u0432\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430"),a.error&&r.a.createElement(j,{errorMessage:a.error}),0===a.stage&&r.a.createElement("div",{style:P.formContainer},r.a.createElement(y.a,{onChange:i,placeholder:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b",name:"username",value:a.username,style:P.Input}),r.a.createElement("div",{role:"button",tabIndex:0,style:P.button,onClick:c,onKeyDown:c},r.a.createElement("span",{style:P.buttonText},"\u041d\u0430\u0442\u0430\u0442\u044a\u043a"))),1===a.stage&&r.a.createElement("div",null,r.a.createElement("div",null,"\u041f\u0440\u043e\u0432\u0435\u0440\u0438 \u0438\u043c\u0435\u0439\u043b\u0430 \u0441\u0438 \u0437\u0430 \u043f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0430\u0432\u0430\u0449 \u043a\u043e\u0434"),r.a.createElement(y.a,{onChange:i,placeholder:"\u043f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0430\u0432\u0430\u0449 \u043a\u043e\u0434",name:"validation",value:a.validation,style:P.Input}),r.a.createElement("div",{role:"button",tabIndex:0,style:P.button,onClick:o,onKeyDown:o},r.a.createElement("span",{style:P.buttonText},"\u041e\u041a"))),2===a.stage&&r.a.createElement("div",null,r.a.createElement(y.a,{type:"password",onChange:i,placeholder:"new password",name:"password",value:a.password,style:P.Input}),r.a.createElement("br",null),r.a.createElement(y.a,{type:"password",onChange:i,placeholder:"confirm password",name:"confirmPassword",value:a.confirmPassword,style:P.Input}),r.a.createElement("div",{role:"button",tabIndex:0,href:"/",style:P.button,onClick:s,onKeyDown:s},r.a.createElement("span",{style:P.buttonText},"\u0421\u043c\u0435\u043d\u0438"))),3===a.stage&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u0412\u0445\u043e\u0434"),r.a.createElement(k,{type:"full"})))},F=a(158),M=a.n(F),N={api:"https://47ruk9bopl.execute-api.eu-central-1.amazonaws.com/dev/"},U=function(){var e=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.post(N.api,JSON.stringify(t),{headers:{"Content-Type":"application/json"}});case 2:return a=e.sent,e.abrupt("return",new Promise((function(e){e(a)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){e.user;var t=Object(n.useState)({hits:[]}),a=Object(u.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){function e(){return(e=Object(v.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({collection:"newsbg",limit:1,descending:!1,fields:["title","image","vreme"]});case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",null,r.a.createElement("h1",null,"\u041d\u0430\u0447\u0430\u043b\u043e"),JSON.stringify(l))};p.a.configure({aws_project_region:"eu-west-1",aws_cognito_identity_pool_id:"eu-west-1:06863165-5b56-4598-8e87-cc9ae2895f39",aws_cognito_region:"eu-west-1",aws_user_pools_id:"eu-west-1_sk5LfmU4g",aws_user_pools_web_client_id:"6d5of62ku9g4pcl2jpp0rcng67",oauth:{}});var J=function(){var e=Object(n.useState)("home"),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(o.useRecoilValue)(w),p=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{sub:null},g=c.sub?c:p;return r.a.createElement(s.a,null,r.a.createElement(m.a,{onClick:function(e){l(e.key)},selectedKeys:[a],mode:"horizontal"},r.a.createElement(m.a.Item,{key:"home"},r.a.createElement(s.b,{to:"/"},"\u041d\u0430\u0447\u0430\u043b\u043e")),null===g.sub?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a.Item,{key:"login"},r.a.createElement(s.b,{to:"/app/login"},"\u0412\u0445\u043e\u0434")),r.a.createElement(m.a.Item,{key:"signup"},r.a.createElement(s.b,{to:"/app/signup"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")),r.a.createElement(m.a.Item,{key:"forgot"},r.a.createElement(s.b,{to:"/app/forgot"},"\u0417\u0430\u0431\u0440\u0430\u0432\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a.Item,{key:"logout"},r.a.createElement("a",{href:"/",onClick:function(){return d.a.signOut().then(void localStorage.setItem("user",JSON.stringify({sub:null})))}},"\u0418\u0437\u0445\u043e\u0434")))),r.a.createElement(b,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/app/login"},null===g.sub?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u0412\u0445\u043e\u0434"),r.a.createElement(k,{type:"full"})):r.a.createElement(i.a,{to:"/"})),r.a.createElement(i.b,{path:"/app/forgot"},r.a.createElement(T,null)),r.a.createElement(i.b,{path:"/app/signup"},r.a.createElement(_,null)),r.a.createElement(i.b,{path:"/"},r.a.createElement(A,{user:g})))))};c.a.render(r.a.createElement(o.RecoilRoot,null,r.a.createElement(J,null)),document.getElementById("root"))}},[[168,1,2]]]);
//# sourceMappingURL=main.0fb4f47b.chunk.js.map