{"ast":null,"code":"var _jsxFileName = \"/Users/arpecop/Desktop/auth/src/components/Login/Login.js\";\nimport React, { useState } from 'react';\nimport { Auth } from 'aws-amplify';\nimport { useRecoilState } from 'recoil';\nimport { Input } from 'antd';\nimport { loggedInUserData } from '../../utils/state';\nimport Error from '../Error'; //\n\nconst styles = {\n  Input: {\n    height: 40,\n    margin: '10px 0px',\n    padding: 7,\n    width: '100%'\n  },\n  formContainer: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  button: {\n    backgroundColor: 'rebeccapurple',\n    padding: '15px 7px',\n    cursor: 'pointer',\n    textAlign: 'center',\n    marginBottom: 10\n  },\n  buttonText: {\n    color: 'white'\n  }\n};\n\nconst Login = ({\n  type\n}) => {\n  const [user, setUser] = useRecoilState(loggedInUserData);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(null);\n\n  const login = async () => {\n    try {\n      await Auth.signIn(username, password);\n      const user1 = await Auth.currentAuthenticatedUser();\n      const userInfo = { ...user1.attributes,\n        username: user1.username\n      };\n      setUser(userInfo);\n      localStorage.setItem('user', JSON.stringify(userInfo));\n    } catch (err) {\n      setError(err);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, user.x && /*#__PURE__*/React.createElement(Error, {\n    errorMessage: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 18\n    }\n  }), error && /*#__PURE__*/React.createElement(Error, {\n    errorMessage: error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }), type === 'compact' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Input, {\n    onChange: event => setUsername(event.target.value),\n    placeholder: \"\\u041F\\u043E\\u0442\\u0440\\u0435\\u0431\\u0438\\u0442\\u0435\\u043B\",\n    name: \"username\",\n    value: username,\n    style: styles.InputCompact,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    onChange: event => setPassword(event.target.value),\n    placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u0430\",\n    name: \"password\",\n    value: password,\n    type: \"password\",\n    style: styles.InputCompact,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.buttonCompact,\n    onClick: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: styles.buttonCompact,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"\\u0412\\u0445\\u043E\\u0434\"))), type === 'full' && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Input, {\n    onChange: event => setUsername(event.target.value),\n    placeholder: \"\\u041F\\u043E\\u0442\\u0440\\u0435\\u0431\\u0438\\u0442\\u0435\\u043B\",\n    name: \"username\",\n    value: username,\n    style: styles.Input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    onChange: event => setPassword(event.target.value),\n    placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u0430\",\n    name: \"password\",\n    value: password,\n    type: \"password\",\n    style: styles.Input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.button,\n    onClick: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: styles.buttonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, \"\\u0412\\u0445\\u043E\\u0434\"))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/arpecop/Desktop/auth/src/components/Login/Login.js"],"names":["React","useState","Auth","useRecoilState","Input","loggedInUserData","Error","styles","height","margin","padding","width","formContainer","display","flexDirection","button","backgroundColor","cursor","textAlign","marginBottom","buttonText","color","Login","type","user","setUser","username","setUsername","password","setPassword","error","setError","login","signIn","user1","currentAuthenticatedUser","userInfo","attributes","localStorage","setItem","JSON","stringify","err","x","event","target","value","InputCompact","buttonCompact"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n\nimport { Auth } from 'aws-amplify';\nimport { useRecoilState } from 'recoil';\nimport { Input } from 'antd';\nimport { loggedInUserData } from '../../utils/state';\nimport Error from '../Error';\n\n//\n\nconst styles = {\n  Input: {\n    height: 40,\n    margin: '10px 0px',\n    padding: 7,\n    width: '100%',\n  },\n  formContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  button: {\n    backgroundColor: 'rebeccapurple',\n    padding: '15px 7px',\n    cursor: 'pointer',\n    textAlign: 'center',\n    marginBottom: 10,\n  },\n  buttonText: {\n    color: 'white',\n  },\n};\nconst Login = ({ type }) => {\n  const [user, setUser] = useRecoilState(loggedInUserData);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(null);\n\n  const login = async () => {\n    try {\n      await Auth.signIn(username, password);\n      const user1 = await Auth.currentAuthenticatedUser();\n      const userInfo = {\n        ...user1.attributes,\n        username: user1.username,\n      };\n      setUser(userInfo);\n\n      localStorage.setItem('user', JSON.stringify(userInfo));\n    } catch (err) {\n      setError(err);\n    }\n  };\n  return (\n    <>\n      {user.x && <Error errorMessage={error} />}\n      {error && <Error errorMessage={error} />}\n      {type === 'compact' && (\n        <>\n          <Input\n            onChange={(event) => setUsername(event.target.value)}\n            placeholder=\"Потребител\"\n            name=\"username\"\n            value={username}\n            style={styles.InputCompact}\n          />\n          <Input\n            onChange={(event) => setPassword(event.target.value)}\n            placeholder=\"Парола\"\n            name=\"password\"\n            value={password}\n            type=\"password\"\n            style={styles.InputCompact}\n          />\n          <div style={styles.buttonCompact} onClick={login}>\n            <span style={styles.buttonCompact}>Вход</span>\n          </div>\n        </>\n      )}\n      {type === 'full' && (\n        <>\n          <Input\n            onChange={(event) => setUsername(event.target.value)}\n            placeholder=\"Потребител\"\n            name=\"username\"\n            value={username}\n            style={styles.Input}\n          />\n          <Input\n            onChange={(event) => setPassword(event.target.value)}\n            placeholder=\"Парола\"\n            name=\"password\"\n            value={password}\n            type=\"password\"\n            style={styles.Input}\n          />\n          <div style={styles.button} onClick={login}>\n            <span style={styles.buttonText}>Вход</span>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}