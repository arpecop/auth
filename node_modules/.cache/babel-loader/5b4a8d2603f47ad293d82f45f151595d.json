{"ast":null,"code":"var _jsxFileName = \"/Users/arpecop/Desktop/auth/src/components/Login/SignUp.js\";\nimport React, { useState } from 'react';\nimport { Auth } from 'aws-amplify';\nimport { Input } from 'antd';\nimport Error from '../Error';\nimport Login from './Login';\n\nconst SignUp = () => {\n  const [state, setState] = useState({\n    username: '',\n    password: '',\n    email: '',\n    authCode: '',\n    stage: 0,\n    error: ''\n  });\n\n  const handleUpdate = event => {\n    setState({ ...state,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const signUp = async () => {\n    const {\n      username,\n      password,\n      email\n    } = state;\n\n    try {\n      await Auth.signUp({\n        username,\n        password,\n        attributes: {\n          email\n        }\n      });\n      setState({ ...state,\n        stage: 1\n      });\n    } catch (err) {\n      setState({ ...state,\n        error: err\n      });\n      console.log('error signing up...', err);\n    }\n  };\n\n  const confirmSignUp = async () => {\n    const {\n      username,\n      authCode\n    } = state;\n\n    try {\n      await Auth.confirmSignUp(username, authCode);\n      setState({ ...state,\n        stage: 2,\n        error: {\n          name: 'Empty'\n        }\n      });\n    } catch (err) {\n      setState({ ...state,\n        error: err\n      });\n      console.log('error confirming signing up...', err);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, state.stage === 0 && /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.formContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"), state.error && /*#__PURE__*/React.createElement(Error, {\n    errorMessage: state.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    onChange: handleUpdate,\n    placeholder: \"\\u041F\\u043E\\u0442\\u0440\\u0435\\u0431\\u0438\\u0442\\u0435\\u043B\",\n    name: \"username\",\n    value: state.username,\n    style: styles.Input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    onChange: handleUpdate,\n    placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u0430\",\n    name: \"password\",\n    value: state.password,\n    type: \"password\",\n    style: styles.Input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    onChange: handleUpdate,\n    placeholder: \"Email\",\n    name: \"email\",\n    value: state.email,\n    style: styles.Input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.button,\n    onClick: signUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: styles.buttonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"Sign Up\"))), state.stage === 1 && /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.formContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"), state.error && /*#__PURE__*/React.createElement(Error, {\n    errorMessage: state.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    onChange: handleUpdate,\n    placeholder: \"Authorization Code\",\n    name: \"authCode\",\n    value: state.authCode,\n    style: styles.Input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.button,\n    onClick: confirmSignUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: styles.buttonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"Confirm Sign Up\"))), state.stage === 2 && /*#__PURE__*/React.createElement(React.Fragment, null, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\\u0442\\u044F \\u0443\\u0441\\u043F\\u0435\\u0448\\u043D\\u0430\", /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, \"\\u0412\\u0445\\u043E\\u0434\"), /*#__PURE__*/React.createElement(Login, {\n    type: \"full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  })));\n};\n\nconst styles = {\n  Input: {\n    height: 40,\n    margin: '10px 0px',\n    padding: 7\n  },\n  formContainer: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  button: {\n    backgroundColor: 'rebeccapurple',\n    padding: '15px 7px',\n    cursor: 'pointer',\n    textAlign: 'center',\n    marginBottom: 10\n  },\n  buttonText: {\n    color: 'white'\n  }\n};\nexport default SignUp;","map":{"version":3,"sources":["/Users/arpecop/Desktop/auth/src/components/Login/SignUp.js"],"names":["React","useState","Auth","Input","Error","Login","SignUp","state","setState","username","password","email","authCode","stage","error","handleUpdate","event","target","name","value","signUp","attributes","err","console","log","confirmSignUp","styles","formContainer","button","buttonText","height","margin","padding","display","flexDirection","backgroundColor","cursor","textAlign","marginBottom","color"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n\nimport { Auth } from 'aws-amplify';\nimport { Input } from 'antd';\nimport Error from '../Error';\nimport Login from './Login';\n\nconst SignUp = () => {\n  const [state, setState] = useState({\n    username: '',\n    password: '',\n    email: '',\n    authCode: '',\n    stage: 0,\n    error: '',\n  });\n  const handleUpdate = (event) => {\n    setState({\n      ...state,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const signUp = async () => {\n    const { username, password, email } = state;\n    try {\n      await Auth.signUp({\n        username,\n        password,\n        attributes: { email },\n      });\n      setState({ ...state, stage: 1 });\n    } catch (err) {\n      setState({ ...state, error: err });\n      console.log('error signing up...', err);\n    }\n  };\n\n  const confirmSignUp = async () => {\n    const { username, authCode } = state;\n    try {\n      await Auth.confirmSignUp(username, authCode);\n      setState({ ...state, stage: 2, error: { name: 'Empty' } });\n    } catch (err) {\n      setState({ ...state, error: err });\n      console.log('error confirming signing up...', err);\n    }\n  };\n  return (\n    <div>\n      {state.stage === 0 && (\n        <div style={styles.formContainer}>\n          <h1>Регистрация</h1>\n          {state.error && <Error errorMessage={state.error} />}\n          <Input\n            onChange={handleUpdate}\n            placeholder=\"Потребител\"\n            name=\"username\"\n            value={state.username}\n            style={styles.Input}\n          />\n          <Input\n            onChange={handleUpdate}\n            placeholder=\"Парола\"\n            name=\"password\"\n            value={state.password}\n            type=\"password\"\n            style={styles.Input}\n          />\n          <Input\n            onChange={handleUpdate}\n            placeholder=\"Email\"\n            name=\"email\"\n            value={state.email}\n            style={styles.Input}\n          />\n\n          <div style={styles.button} onClick={signUp}>\n            <span style={styles.buttonText}>Sign Up</span>\n          </div>\n        </div>\n      )}\n      {state.stage === 1 && (\n        <div style={styles.formContainer}>\n          <h1>Регистрация</h1>\n          {state.error && <Error errorMessage={state.error} />}\n          <Input\n            onChange={handleUpdate}\n            placeholder=\"Authorization Code\"\n            name=\"authCode\"\n            value={state.authCode}\n            style={styles.Input}\n          />\n          <div style={styles.button} onClick={confirmSignUp}>\n            <span style={styles.buttonText}>Confirm Sign Up</span>\n          </div>\n        </div>\n      )}\n\n      {state.stage === 2 && (\n        <>\n          Регистрациятя успешна\n          <h1>Вход</h1>\n          <Login type=\"full\" />\n        </>\n      )}\n    </div>\n  );\n};\n\nconst styles = {\n  Input: {\n    height: 40,\n    margin: '10px 0px',\n    padding: 7,\n  },\n  formContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  button: {\n    backgroundColor: 'rebeccapurple',\n    padding: '15px 7px',\n    cursor: 'pointer',\n    textAlign: 'center',\n    marginBottom: 10,\n  },\n  buttonText: {\n    color: 'white',\n  },\n};\n\nexport default SignUp;\n"]},"metadata":{},"sourceType":"module"}