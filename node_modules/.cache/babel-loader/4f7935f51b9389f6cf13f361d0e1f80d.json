{"ast":null,"code":"var _jsxFileName = \"/Users/arpecop/Desktop/auth/src/components/Login/Forgot.js\";\nimport React, { useState } from 'react';\nimport { Auth } from 'aws-amplify';\nimport { Input } from 'antd';\nimport Error from '../Error';\nimport Login from './Login';\nconst styles = {\n  Input: {\n    height: 40,\n    margin: '10px 0px',\n    padding: 7,\n    width: '100%'\n  },\n  formContainer: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  button: {\n    backgroundColor: 'rebeccapurple',\n    padding: '15px 7px',\n    cursor: 'pointer',\n    textAlign: 'center',\n    marginBottom: 10\n  },\n  buttonText: {\n    color: 'white'\n  }\n};\n\nconst Forgot = () => {\n  const [state, setState] = useState({\n    username: '',\n    error: '',\n    validation: '',\n    password: '',\n    confirmPassword: '',\n    stage: 0\n  });\n\n  const login = async () => {\n    try {\n      await Auth.forgotPassword(state.username);\n      setState({ ...state,\n        stage: 1\n      });\n    } catch (err) {\n      setState({ ...state,\n        error: err\n      });\n    }\n  };\n\n  const submitCode = () => {\n    setState({ ...state,\n      stage: 2\n    });\n  };\n\n  const changePassword = async () => {\n    try {\n      if (state.password === state.confirmPassword) {\n        await Auth.forgotPasswordSubmit(state.username, state.validation, state.password);\n        setState({ ...state,\n          stage: 3,\n          error: {\n            name: 'Empty'\n          }\n        });\n      } else {\n        setState({ ...state,\n          error: {\n            name: 'PasswordNotMatch',\n            message: \"Passwords don't Match\"\n          }\n        });\n      }\n    } catch (err) {\n      setState({ ...state,\n        error: err\n      });\n    }\n  };\n\n  const handleUpdate = event => {\n    setState({ ...state,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, \"\\u0417\\u0430\\u0431\\u0432\\u0430\\u0432\\u0435\\u043D\\u0430 \\u043F\\u0430\\u0440\\u043E\\u043B\\u0430\"), state.error && /*#__PURE__*/React.createElement(Error, {\n    errorMessage: state.error,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 23\n    }\n  }), state.stage === 0 && /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.formContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    onChange: handleUpdate,\n    placeholder: \"\\u041F\\u043E\\u0442\\u0440\\u0435\\u0431\\u0438\\u0442\\u0435\\u043B\",\n    name: \"username\",\n    value: state.username,\n    style: styles.Input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    role: \"button\",\n    tabIndex: 0,\n    style: styles.button,\n    onClick: login,\n    onKeyDown: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: styles.buttonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, \"\\u041D\\u0430\\u0442\\u0430\\u0442\\u044A\\u043A\"))), state.stage === 1 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, \"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u0438 \\u0438\\u043C\\u0435\\u0439\\u043B\\u0430 \\u0441\\u0438 \\u0437\\u0430 \\u043F\\u043E\\u0442\\u0432\\u044A\\u0440\\u0436\\u0434\\u0430\\u0432\\u0430\\u0449 \\u043A\\u043E\\u0434\"), /*#__PURE__*/React.createElement(Input, {\n    onChange: handleUpdate,\n    placeholder: \"\\u043F\\u043E\\u0442\\u0432\\u044A\\u0440\\u0436\\u0434\\u0430\\u0432\\u0430\\u0449 \\u043A\\u043E\\u0434\",\n    name: \"validation\",\n    value: state.validation,\n    style: styles.Input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    role: \"button\",\n    tabIndex: 0,\n    style: styles.button,\n    onClick: submitCode,\n    onKeyDown: submitCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: styles.buttonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, \"\\u041E\\u041A\"))), state.stage === 2 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    onChange: handleUpdate,\n    placeholder: \"new password\",\n    name: \"password\",\n    value: state.password,\n    style: styles.Input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    onChange: handleUpdate,\n    placeholder: \"confirm password\",\n    name: \"confirmPassword\",\n    value: state.confirmPassword,\n    style: styles.Input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    role: \"button\",\n    tabIndex: 0,\n    href: \"/\",\n    style: styles.button,\n    onClick: changePassword,\n    onKeyDown: changePassword,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: styles.buttonText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, \"\\u0421\\u043C\\u0435\\u043D\\u0438\"))), state.stage === 3 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, \"\\u0412\\u0445\\u043E\\u0434\"), /*#__PURE__*/React.createElement(Login, {\n    type: \"full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport default Forgot;","map":{"version":3,"sources":["/Users/arpecop/Desktop/auth/src/components/Login/Forgot.js"],"names":["React","useState","Auth","Input","Error","Login","styles","height","margin","padding","width","formContainer","display","flexDirection","button","backgroundColor","cursor","textAlign","marginBottom","buttonText","color","Forgot","state","setState","username","error","validation","password","confirmPassword","stage","login","forgotPassword","err","submitCode","changePassword","forgotPasswordSubmit","name","message","handleUpdate","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n\nimport { Auth } from 'aws-amplify';\nimport { Input } from 'antd';\nimport Error from '../Error';\nimport Login from './Login';\n\nconst styles = {\n  Input: {\n    height: 40,\n    margin: '10px 0px',\n    padding: 7,\n    width: '100%',\n  },\n  formContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  button: {\n    backgroundColor: 'rebeccapurple',\n    padding: '15px 7px',\n    cursor: 'pointer',\n    textAlign: 'center',\n    marginBottom: 10,\n  },\n  buttonText: {\n    color: 'white',\n  },\n};\nconst Forgot = () => {\n  const [state, setState] = useState({\n    username: '',\n    error: '',\n    validation: '',\n    password: '',\n    confirmPassword: '',\n    stage: 0,\n  });\n  const login = async () => {\n    try {\n      await Auth.forgotPassword(state.username);\n\n      setState({ ...state, stage: 1 });\n    } catch (err) {\n      setState({ ...state, error: err });\n    }\n  };\n  const submitCode = () => {\n    setState({ ...state, stage: 2 });\n  };\n  const changePassword = async () => {\n    try {\n      if (state.password === state.confirmPassword) {\n        await Auth.forgotPasswordSubmit(\n          state.username,\n          state.validation,\n          state.password\n        );\n        setState({ ...state, stage: 3, error: { name: 'Empty' } });\n      } else {\n        setState({\n          ...state,\n          error: { name: 'PasswordNotMatch', message: \"Passwords don't Match\" },\n        });\n      }\n    } catch (err) {\n      setState({ ...state, error: err });\n    }\n  };\n  const handleUpdate = (event) => {\n    setState({\n      ...state,\n      [event.target.name]: event.target.value,\n    });\n  };\n  return (\n    <div>\n      <h1>Забвавена парола</h1>\n      {state.error && <Error errorMessage={state.error} />}\n\n      {state.stage === 0 && (\n        <div style={styles.formContainer}>\n          <Input\n            onChange={handleUpdate}\n            placeholder=\"Потребител\"\n            name=\"username\"\n            value={state.username}\n            style={styles.Input}\n          />\n\n          <div\n            role=\"button\"\n            tabIndex={0}\n            style={styles.button}\n            onClick={login}\n            onKeyDown={login}\n          >\n            <span style={styles.buttonText}>Нататък</span>\n          </div>\n        </div>\n      )}\n\n      {state.stage === 1 && (\n        <div>\n          <div>Провери имейла си за потвърждаващ код</div>\n          <Input\n            onChange={handleUpdate}\n            placeholder=\"потвърждаващ код\"\n            name=\"validation\"\n            value={state.validation}\n            style={styles.Input}\n          />\n          <div\n            role=\"button\"\n            tabIndex={0}\n            style={styles.button}\n            onClick={submitCode}\n            onKeyDown={submitCode}\n          >\n            <span style={styles.buttonText}>ОК</span>\n          </div>\n        </div>\n      )}\n\n      {state.stage === 2 && (\n        <div>\n          <Input\n            type=\"password\"\n            onChange={handleUpdate}\n            placeholder=\"new password\"\n            name=\"password\"\n            value={state.password}\n            style={styles.Input}\n          />\n          <br />\n          <Input\n            type=\"password\"\n            onChange={handleUpdate}\n            placeholder=\"confirm password\"\n            name=\"confirmPassword\"\n            value={state.confirmPassword}\n            style={styles.Input}\n          />\n\n          <div\n            role=\"button\"\n            tabIndex={0}\n            href=\"/\"\n            style={styles.button}\n            onClick={changePassword}\n            onKeyDown={changePassword}\n          >\n            <span style={styles.buttonText}>Смени</span>\n          </div>\n        </div>\n      )}\n      {state.stage === 3 && (\n        <>\n          <h1>Вход</h1>\n          <Login type=\"full\" />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Forgot;\n"]},"metadata":{},"sourceType":"module"}